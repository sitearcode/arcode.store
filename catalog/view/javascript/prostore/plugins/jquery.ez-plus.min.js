"function"!=typeof Object.create&&(Object.create=function(o){function e(){}return e.prototype=o,new e}),function(h,t){var i={init:function(o,e){var i,t,n=this;n.elem=e,n.$elem=h(e),n.options=h.extend({},h.fn.ezPlus.options,n.responsiveConfig(o||{})),n.imageSrc=n.$elem.data(n.options.attrImageZoomSrc)?n.$elem.data(n.options.attrImageZoomSrc):n.$elem.attr("src"),n.options.enabled&&(n.options.tint&&(n.options.lensColour="transparent",n.options.lensOpacity="1"),"inner"===n.options.zoomType&&(n.options.showLens=!1),"lens"===n.options.zoomType&&(n.options.zoomWindowWidth=0),-1===n.options.zoomId&&(n.options.zoomId=(t=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==o?e:3&e|8).toString(16)}))),n.$elem.parent().removeAttr("title").removeAttr("alt"),n.zoomImage=n.imageSrc,n.refresh(1),(i=h(n.options.gallery?"#"+n.options.gallery:n.options.gallerySelector)).on("click.zoom",n.options.galleryItem,function(o){if(n.options.galleryActiveClass&&(h(n.options.galleryItem,i).removeClass(n.options.galleryActiveClass),h(this).addClass(n.options.galleryActiveClass)),"A"===this.tagName&&o.preventDefault(),h(this).data(n.options.attrImageZoomSrc)?n.zoomImagePre=h(this).data(n.options.attrImageZoomSrc):n.zoomImagePre=h(this).data("image"),n.swaptheimage(h(this).data("image"),n.zoomImagePre),"A"===this.tagName)return!1}))},refresh:function(o){var e=this;setTimeout(function(){e.fetch(e.imageSrc,e.$elem,e.options.minZoomLevel)},o||e.options.refresh)},fetch:function(o,e,i){var t=this,n=new Image;n.onload=function(){n.width/e.width()<=i?t.largeWidth=e.width()*i:t.largeWidth=n.width,n.height/e.height()<=i?t.largeHeight=e.height()*i:t.largeHeight=n.height,t.startZoom(),t.currentImage=t.imageSrc,t.options.onZoomedImageLoaded(t.$elem)},t.setImageSource(n,o)},setImageSource:function(o,e){o.src=e},startZoom:function(){var o,t=this;t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.isWindowActive=!1,t.isLensActive=!1,t.isTintActive=!1,t.overWindow=!1,t.options.imageCrossfade&&(t.zoomWrap=t.$elem.wrap('<div style="height:'+t.nzHeight+"px;width:"+t.nzWidth+'px;" class="zoomWrapper" />'),t.$elem.css("position","absolute")),t.zoomLock=1,t.scrollingLock=!1,t.changeBgSize=!1,t.currentZoomLevel=t.options.zoomLevel,t.updateOffset(t),t.widthRatio=t.largeWidth/t.currentZoomLevel/t.nzWidth,t.heightRatio=t.largeHeight/t.currentZoomLevel/t.nzHeight,"window"===t.options.zoomType&&(t.zoomWindowStyle="display: none;position: absolute;float: left;height: "+String(t.options.zoomWindowHeight)+"px;width: "+String(t.options.zoomWindowWidth)+"px;text-align: center;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";background-size: "+t.largeWidth/t.currentZoomLevel+"px "+t.largeHeight/t.currentZoomLevel+"px;background-position: 0px 0px;background-repeat: no-repeat;background-color: "+String(t.options.zoomWindowBgColour)+";overflow: hidden;z-index: 100;"),"inner"===t.options.zoomType&&(t.zoomWindowStyle=(o=t.$elem.css("border-left-width"),"display: none;position: absolute;float: left;height: "+String(t.nzHeight)+"px;width: "+String(t.nzWidth)+"px;margin-top: "+String(o)+";margin-left: "+String(o)+";border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";background-position: 0px 0px;background-repeat: no-repeat;cursor:"+t.options.cursor+";overflow: hidden;zindex: "+t.options.zIndex+";")),"window"===t.options.zoomType&&(t.lensStyle=(t.nzHeight<t.options.zoomWindowHeight/t.heightRatio?t.lensHeight=t.nzHeight:t.lensHeight=String(t.options.zoomWindowHeight/t.heightRatio),t.largeWidth<t.options.zoomWindowWidth?t.lensWidth=t.nzWidth:t.lensWidth=String(t.options.zoomWindowWidth/t.widthRatio),"display: none;position: absolute;float: right;height: "+t.lensHeight+"px;width: "+t.lensWidth+"px;border: "+t.options.lensBorderSize+"px solid "+t.options.lensBorderColour+";background-position: 0px 0px;background-repeat: no-repeat;background-color: "+t.options.lensColour+";opacity: "+t.options.lensOpacity+";filter: alpha(opacity = "+100*t.options.lensOpacity+");zoom: 1;cursor:"+t.options.cursor+";z-index: 999;overflow: hidden;")),t.tintStyle="display: block;position: absolute;height: "+t.nzHeight+"px;width: "+t.nzWidth+"px;background-color: "+t.options.tintColour+";filter: alpha(opacity=0);opacity: 0;",t.lensRound="","lens"===t.options.zoomType&&(t.lensStyle="display: none;position: absolute;float: left;height:"+String(t.options.lensSize)+"px;width:"+String(t.options.lensSize)+"px;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";background-position: 0px 0px;background-repeat: no-repeat;background-color: "+t.options.lensColour+";cursor:"+t.options.cursor+";"),"round"===t.options.lensShape&&(t.lensRound="border-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;"),t.zoomContainer=h('<div class="zoomContainer" uuid="'+t.options.zoomId+'"style="position: absolute;top: '+t.nzOffset.top+"px;left: "+t.nzOffset.left+"px;height: "+t.nzHeight+"px;width: "+t.nzWidth+"px;z-index: "+t.options.zIndex+'"></div>'),t.$elem.attr("id")&&t.zoomContainer.attr("id",t.$elem.attr("id")+"-zoomContainer"),h(t.options.zoomContainerAppendTo).append(t.zoomContainer),t.options.containLensZoom&&"lens"===t.options.zoomType&&t.zoomContainer.css("overflow","hidden"),"inner"!==t.options.zoomType&&(t.zoomLens=h('<div class="zoomLens" style="'+t.lensStyle+t.lensRound+'">&nbsp;</div>').appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.options.tint&&(t.tintContainer=h("<div/>").addClass("tintContainer"),t.zoomTint=h('<div class="zoomTint" style="'+t.tintStyle+'"></div>'),t.zoomLens.wrap(t.tintContainer),t.zoomTintcss=t.zoomLens.after(t.zoomTint),t.zoomTintImage=h('<img style="position: absolute;top: 0px;left: 0px;height: '+t.nzHeight+'px;" width: '+t.nzWidth+'px; max-width: none; src="'+t.$elem.attr("src")+'">').appendTo(t.zoomLens).click(function(){t.$elem.trigger("click")})));var e=isNaN(t.options.zoomWindowPosition)?"body":t.zoomContainer;function i(o){t.lastX===o.clientX&&t.lastY===o.clientY||(t.setPosition(o),t.currentLoc=o),t.lastX=o.clientX,t.lastY=o.clientY}t.zoomWindow=h('<div style="z-index: 999;top: '+t.windowOffsetTop+"px;left: "+t.windowOffsetLeft+"px;"+t.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo(e).click(function(){t.$elem.trigger("click")}),t.zoomWindowContainer=h("<div/>").addClass("zoomWindowContainer").css("width",t.options.zoomWindowWidth),t.zoomWindow.wrap(t.zoomWindowContainer),"lens"===t.options.zoomType&&t.zoomLens.css("background-image",'url("'+t.imageSrc+'")'),"window"===t.options.zoomType&&t.zoomWindow.css("background-image",'url("'+t.imageSrc+'")'),"inner"===t.options.zoomType&&t.zoomWindow.css("background-image",'url("'+t.imageSrc+'")'),t.options.touchEnabled&&(t.$elem.bind("touchmove.ezpspace",function(o){o.preventDefault();o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(o)}),t.zoomContainer.bind("touchmove.ezpspace",function(o){t.setElements("show"),o.preventDefault();o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(o)}),t.zoomContainer.bind("touchend.ezpspace",function(o){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!==t.options.zoomType&&t.showHideTint("hide")}),t.$elem.bind("touchend.ezpspace",function(o){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!==t.options.zoomType&&t.showHideTint("hide")}),t.options.showLens&&(t.zoomLens.bind("touchmove.ezpspace",function(o){o.preventDefault();o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(o)}),t.zoomLens.bind("touchend.ezpspace",function(o){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!==t.options.zoomType&&t.showHideTint("hide")}))),t.$elem.bind("mousemove.ezpspace",function(o){!1===t.overWindow&&t.setElements("show"),t.lastX===o.clientX&&t.lastY===o.clientY||(t.setPosition(o),t.currentLoc=o),t.lastX=o.clientX,t.lastY=o.clientY}),t.zoomContainer.bind("click.ezpspace touchstart.ezpspace",t.options.onImageClick),t.zoomContainer.bind("mousemove.ezpspace",function(o){!1===t.overWindow&&t.setElements("show"),i(o)});e=null;"inner"!==t.options.zoomType&&(e=t.zoomLens),t.options.tint&&"inner"!==t.options.zoomType&&(e=t.zoomTint),"inner"===t.options.zoomType&&(e=t.zoomWindow),e&&e.bind("mousemove.ezpspace",i),t.zoomContainer.add(t.$elem).mouseenter(function(){!1===t.overWindow&&t.setElements("show")}).mouseleave(function(){t.scrollLock||(t.setElements("hide"),t.options.onDestroy(t.$elem))}),"inner"!==t.options.zoomType&&t.zoomWindow.mouseenter(function(){t.overWindow=!0,t.setElements("hide")}).mouseleave(function(){t.overWindow=!1}),t.options.minZoomLevel?t.minZoomLevel=t.options.minZoomLevel:t.minZoomLevel=2*t.options.scrollZoomIncrement,t.options.scrollZoom&&t.zoomContainer.add(t.$elem).bind("wheel DOMMouseScroll MozMousePixelScroll",function(o){t.scrollLock=!0,clearTimeout(h.data(this,"timer")),h.data(this,"timer",setTimeout(function(){t.scrollLock=!1},250));var e,i=o.originalEvent.deltaY||-1*o.originalEvent.detail;return o.stopImmediatePropagation(),o.stopPropagation(),o.preventDefault(),0==i||(0<i/120?(e=parseFloat(t.currentZoomLevel)-t.options.scrollZoomIncrement)>=parseFloat(t.minZoomLevel)&&t.changeZoomLevel(e):(t.fullheight||t.fullwidth)&&t.options.mantainZoomAspectRatio||(e=parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement,(!t.options.maxZoomLevel||e<=t.options.maxZoomLevel)&&t.changeZoomLevel(e))),!1})},destroy:function(){var o=this;o.$elem.unbind("ezpspace"),h(o.zoomContainer).remove(),o.options.loadingIcon&&o.spinner&&o.spinner.length&&(o.spinner.remove(),delete o.spinner)},getIdentifier:function(){return this.options.zoomId},setElements:function(o){var e=this;if(!e.options.zoomEnabled)return!1;"show"===o&&e.isWindowSet&&("inner"===e.options.zoomType&&e.showHideWindow("show"),"window"===e.options.zoomType&&e.showHideWindow("show"),e.options.showLens&&e.showHideLens("show"),e.options.tint&&"inner"!==e.options.zoomType&&e.showHideTint("show")),"hide"===o&&("window"===e.options.zoomType&&e.showHideWindow("hide"),e.options.tint||e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&e.showHideTint("hide"))},setPosition:function(o){var e,i,t=this;if(!t.options.zoomEnabled)return!1;t.nzHeight=t.$elem.height(),t.nzWidth=t.$elem.width(),t.updateOffset(t),t.options.tint&&"inner"!==t.options.zoomType&&t.zoomTint.css({top:0,left:0}),t.options.responsive&&!t.options.scrollZoom&&t.options.showLens&&(t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.lensHeight=t.nzHeight:t.lensHeight=String(t.options.zoomWindowHeight/t.heightRatio),t.largeWidth<t.options.zoomWindowWidth?t.lensWidth=t.nzWidth:t.lensWidth=t.options.zoomWindowWidth/t.widthRatio,t.widthRatio=t.largeWidth/t.nzWidth,t.heightRatio=t.largeHeight/t.nzHeight,"lens"!==t.options.zoomType&&(t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.lensHeight=t.nzHeight:t.lensHeight=String(t.options.zoomWindowHeight/t.heightRatio),t.nzWidth<t.options.zoomWindowHeight/t.heightRatio?t.lensWidth=t.nzWidth:t.lensWidth=String(t.options.zoomWindowWidth/t.widthRatio),t.zoomLens.css({width:t.lensWidth,height:t.lensHeight}),t.options.tint&&t.zoomTintImage.css({width:t.nzWidth,height:t.nzHeight})),"lens"===t.options.zoomType&&t.zoomLens.css({width:String(t.options.lensSize)+"px",height:String(t.options.lensSize)+"px"})),t.zoomContainer.css({top:t.nzOffset.top,left:t.nzOffset.left,width:t.nzWidth,height:t.nzHeight}),t.mouseLeft=parseInt(o.pageX-t.nzOffset.left),t.mouseTop=parseInt(o.pageY-t.nzOffset.top),"window"===t.options.zoomType&&(e=t.zoomLens.height()/2,i=t.zoomLens.width()/2,t.Etoppos=t.mouseTop<0+e,t.Eboppos=t.mouseTop>t.nzHeight-e-2*t.options.lensBorderSize,t.Eloppos=t.mouseLeft<0+i,t.Eroppos=t.mouseLeft>t.nzWidth-i-2*t.options.lensBorderSize),"inner"===t.options.zoomType&&(t.Etoppos=t.mouseTop<t.nzHeight/2/t.heightRatio,t.Eboppos=t.mouseTop>t.nzHeight-t.nzHeight/2/t.heightRatio,t.Eloppos=t.mouseLeft<0+t.nzWidth/2/t.widthRatio,t.Eroppos=t.mouseLeft>t.nzWidth-t.nzWidth/2/t.widthRatio-2*t.options.lensBorderSize),t.mouseLeft<0||t.mouseTop<0||t.mouseLeft>t.nzWidth||t.mouseTop>t.nzHeight?t.setElements("hide"):(t.options.showLens&&(t.lensLeftPos=String(Math.floor(t.mouseLeft-t.zoomLens.width()/2)),t.lensTopPos=String(Math.floor(t.mouseTop-t.zoomLens.height()/2))),t.Etoppos&&(t.lensTopPos=0),t.Eloppos&&(t.windowLeftPos=0,t.lensLeftPos=0,t.tintpos=0),"window"===t.options.zoomType&&(t.Eboppos&&(t.lensTopPos=Math.max(t.nzHeight-t.zoomLens.height()-2*t.options.lensBorderSize,0)),t.Eroppos&&(t.lensLeftPos=t.nzWidth-t.zoomLens.width()-2*t.options.lensBorderSize)),"inner"===t.options.zoomType&&(t.Eboppos&&(t.lensTopPos=Math.max(t.nzHeight-2*t.options.lensBorderSize,0)),t.Eroppos&&(t.lensLeftPos=t.nzWidth-t.nzWidth-2*t.options.lensBorderSize)),"lens"===t.options.zoomType&&(t.windowLeftPos=String(-1*((o.pageX-t.nzOffset.left)*t.widthRatio-t.zoomLens.width()/2)),t.windowTopPos=String(-1*((o.pageY-t.nzOffset.top)*t.heightRatio-t.zoomLens.height()/2)),t.zoomLens.css("background-position",t.windowLeftPos+"px "+t.windowTopPos+"px"),t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"===t.options.zoomType&&t.zoomLens.css("background-size",t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"),t.zoomWindow.css("background-size",t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px")):("lens"===t.options.zoomType&&t.zoomLens.css("background-size",t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"),t.zoomWindow.css("background-size",t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px")),t.changeBgSize=!1),t.setWindowPosition(o)),t.options.tint&&"inner"!==t.options.zoomType&&t.setTintPosition(o),"window"===t.options.zoomType&&t.setWindowPosition(o),"inner"===t.options.zoomType&&t.setWindowPosition(o),t.options.showLens&&(t.fullwidth&&"lens"!==t.options.zoomType&&(t.lensLeftPos=0),t.zoomLens.css({left:t.lensLeftPos+"px",top:t.lensTopPos+"px"})))},showHideZoomContainer:function(o){"show"===o&&this.zoomContainer&&this.zoomContainer.show(),"hide"===o&&this.zoomContainer&&this.zoomContainer.hide()},showHideWindow:function(o){var e=this;"show"===o&&!e.isWindowActive&&e.zoomWindow&&(e.options.onShow(e),e.options.zoomWindowFadeIn?e.zoomWindow.stop(!0,!0,!1).fadeIn(e.options.zoomWindowFadeIn):e.zoomWindow.show(),e.isWindowActive=!0),"hide"===o&&e.isWindowActive&&(e.options.zoomWindowFadeOut?e.zoomWindow.stop(!0,!0).fadeOut(e.options.zoomWindowFadeOut,function(){e.loop&&(clearInterval(e.loop),e.loop=!1)}):e.zoomWindow.hide(),e.isWindowActive=!1)},showHideLens:function(o){var e=this;"show"===o&&(e.isLensActive||(e.zoomLens&&(e.options.lensFadeIn?e.zoomLens.stop(!0,!0,!1).fadeIn(e.options.lensFadeIn):e.zoomLens.show()),e.isLensActive=!0)),"hide"===o&&e.isLensActive&&(e.zoomLens&&(e.options.lensFadeOut?e.zoomLens.stop(!0,!0).fadeOut(e.options.lensFadeOut):e.zoomLens.hide()),e.isLensActive=!1)},showHideTint:function(o){var e=this;"show"===o&&!e.isTintActive&&e.zoomTint&&(e.options.zoomTintFadeIn?e.zoomTint.css("opacity",e.options.tintOpacity).animate().stop(!0,!0).fadeIn("slow"):(e.zoomTint.css("opacity",e.options.tintOpacity).animate(),e.zoomTint.show()),e.isTintActive=!0),"hide"===o&&e.isTintActive&&(e.options.zoomTintFadeOut?e.zoomTint.stop(!0,!0).fadeOut(e.options.zoomTintFadeOut):e.zoomTint.hide(),e.isTintActive=!1)},setLensPosition:function(o){},setWindowPosition:function(o){var e,i=this;if(isNaN(i.options.zoomWindowPosition))i.externalContainer=h(i.options.zoomWindowPosition),i.externalContainer.length||(i.externalContainer=h("#"+i.options.zoomWindowPosition)),i.externalContainerWidth=i.externalContainer.width(),i.externalContainerHeight=i.externalContainer.height(),i.externalContainerOffset=i.externalContainer.offset(),i.windowOffsetTop=i.externalContainerOffset.top,i.windowOffsetLeft=i.externalContainerOffset.left;else switch(i.options.zoomWindowPosition){case 1:i.windowOffsetTop=i.options.zoomWindowOffsetY,i.windowOffsetLeft=+i.nzWidth;break;case 2:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=i.nzWidth):h.noop();break;case 3:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=i.nzWidth;break;case 4:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth;break;case 5:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 6:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize)):h.noop();break;case 7:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=0;break;case 8:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 9:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 10:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize)):h.noop();break;case 11:i.windowOffsetTop=i.options.zoomWindowOffsetY,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 12:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 13:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=0;break;case 14:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize)):h.noop();break;case 15:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 16:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth;break;default:i.windowOffsetTop=i.options.zoomWindowOffsetY,i.windowOffsetLeft=i.nzWidth}i.isWindowSet=!0,i.windowOffsetTop=i.windowOffsetTop+i.options.zoomWindowOffsetY,i.windowOffsetLeft=i.windowOffsetLeft+i.options.zoomWindowOffsetX,i.zoomWindow.css({top:i.windowOffsetTop,left:i.windowOffsetLeft}),"inner"===i.options.zoomType&&i.zoomWindow.css({top:0,left:0}),i.windowLeftPos=String(-1*((o.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)),i.windowTopPos=String(-1*((o.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)),i.Etoppos&&(i.windowTopPos=0),i.Eloppos&&(i.windowLeftPos=0),i.Eboppos&&(i.windowTopPos=-1*(i.largeHeight/i.currentZoomLevel-i.zoomWindow.height())),i.Eroppos&&(i.windowLeftPos=-1*(i.largeWidth/i.currentZoomLevel-i.zoomWindow.width())),i.fullheight&&(i.windowTopPos=0),i.fullwidth&&(i.windowLeftPos=0),"window"!==i.options.zoomType&&"inner"!==i.options.zoomType||(1===i.zoomLock&&(i.widthRatio<=1&&(i.windowLeftPos=0),i.heightRatio<=1&&(i.windowTopPos=0)),"window"===i.options.zoomType&&(i.largeHeight<i.options.zoomWindowHeight&&(i.windowTopPos=0),i.largeWidth<i.options.zoomWindowWidth&&(i.windowLeftPos=0)),i.options.easing?(i.xp||(i.xp=0),i.yp||(i.yp=0),e=16,Number.isInteger(parseInt(i.options.easing))&&(e=parseInt(i.options.easing)),i.loop||(i.loop=setInterval(function(){i.xp+=(i.windowLeftPos-i.xp)/i.options.easingAmount,i.yp+=(i.windowTopPos-i.yp)/i.options.easingAmount,i.scrollingLock?(clearInterval(i.loop),i.xp=i.windowLeftPos,i.yp=i.windowTopPos,i.xp=-1*((o.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2),i.yp=-1*((o.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2),i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"===i.options.zoomType&&i.zoomLens.css("background-size",i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"),i.zoomWindow.css("background-size",i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px")):("lens"!==i.options.zoomType&&i.zoomLens.css("background-size",i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvalueheight+"px"),i.zoomWindow.css("background-size",i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px")),i.changeBgSize=!1),i.zoomWindow.css("background-position",i.windowLeftPos+"px "+i.windowTopPos+"px"),i.scrollingLock=!1,i.loop=!1):Math.round(Math.abs(i.xp-i.windowLeftPos)+Math.abs(i.yp-i.windowTopPos))<1?(clearInterval(i.loop),i.zoomWindow.css("background-position",i.windowLeftPos+"px "+i.windowTopPos+"px"),i.loop=!1):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"===i.options.zoomType&&i.zoomLens.css("background-size",i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"),i.zoomWindow.css("background-size",i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px")):("lens"!==i.options.zoomType&&i.zoomLens.css("background-size",i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"),i.zoomWindow.css("background-size",i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px")),i.changeBgSize=!1),i.zoomWindow.css("background-position",i.xp+"px "+i.yp+"px"))},e))):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"===i.options.zoomType&&i.zoomLens.css("background-size",i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"),i.zoomWindow.css("background-size",i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px")):("lens"===i.options.zoomType&&i.zoomLens.css("background-size",i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"),i.largeHeight/i.newvaluewidth<i.options.zoomWindowHeight?i.zoomWindow.css("background-size",i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"):i.zoomWindow.css("background-size",i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px")),i.changeBgSize=!1),i.zoomWindow.css("background-position",i.windowLeftPos+"px "+i.windowTopPos+"px")))},setTintPosition:function(o){var e=this,i=e.zoomLens.width(),t=e.zoomLens.height();e.updateOffset(e),e.tintpos=String(-1*(o.pageX-e.nzOffset.left-i/2)),e.tintposy=String(-1*(o.pageY-e.nzOffset.top-t/2)),e.Etoppos&&(e.tintposy=0),e.Eloppos&&(e.tintpos=0),e.Eboppos&&(e.tintposy=-1*(e.nzHeight-t-2*e.options.lensBorderSize)),e.Eroppos&&(e.tintpos=-1*(e.nzWidth-i-2*e.options.lensBorderSize)),e.options.tint&&(e.fullheight&&(e.tintposy=0),e.fullwidth&&(e.tintpos=0),e.zoomTintImage.css({left:e.tintpos+"px",top:e.tintposy+"px"}))},swaptheimage:function(o,e){var i,t=this,n=new Image;t.options.loadingIcon&&!t.spinner?(i="background: url('"+t.options.loadingIcon+"') no-repeat center;height:"+t.nzHeight+"px;width:"+t.nzWidth+"px;z-index: 2000;position: absolute; background-position: center center;","inner"===t.options.zoomType&&(i+="top: 0px;"),t.spinner=h('<div class="ezp-spinner" style="'+i+'"></div>'),t.$elem.after(t.spinner)):t.spinner&&t.spinner.show(),t.options.onImageSwap(t.$elem),n.onload=function(){t.largeWidth=n.width,t.largeHeight=n.height,t.zoomImage=e,t.zoomWindow.css("background-size",t.largeWidth+"px "+t.largeHeight+"px"),t.swapAction(o,e)},t.setImageSource(n,e)},swapAction:function(o,e){var i,t,n,s=this,p=s.$elem.width(),d=s.$elem.height(),a=new Image;a.onload=function(){s.nzHeight=a.height,s.nzWidth=a.width,s.options.onImageSwapComplete(s.$elem),s.doneCallback()},s.setImageSource(a,o),s.currentZoomLevel=s.options.zoomLevel,s.options.maxZoomLevel=!1,"lens"===s.options.zoomType&&s.zoomLens.css("background-image",'url("'+e+'")'),"window"===s.options.zoomType&&s.zoomWindow.css("background-image",'url("'+e+'")'),"inner"===s.options.zoomType&&s.zoomWindow.css("background-image",'url("'+e+'")'),s.currentImage=e,s.options.imageCrossfade?(i=(t=s.$elem).clone(),s.$elem.attr("src",o),s.$elem.after(i),i.stop(!0).fadeOut(s.options.imageCrossfade,function(){h(this).remove()}),s.$elem.width("auto").removeAttr("width"),s.$elem.height("auto").removeAttr("height"),t.fadeIn(s.options.imageCrossfade),s.options.tint&&"inner"!==s.options.zoomType&&(t=(i=s.zoomTintImage).clone(),s.zoomTintImage.attr("src",e),s.zoomTintImage.after(t),t.stop(!0).fadeOut(s.options.imageCrossfade,function(){h(this).remove()}),i.fadeIn(s.options.imageCrossfade),s.zoomTint.css({height:d,width:p})),s.zoomContainer.css({height:d,width:p}),"inner"===s.options.zoomType&&(s.options.constrainType||(s.zoomWrap.parent().css({height:d,width:p}),s.zoomWindow.css({height:d,width:p})))):(s.$elem.attr("src",o),s.options.tint&&(s.zoomTintImage.attr("src",e),s.zoomTintImage.attr("height",d),s.zoomTintImage.css("height",d),s.zoomTint.css("height",d)),s.zoomContainer.css({height:d,width:p})),s.options.imageCrossfade&&s.zoomWrap.css({height:d,width:p}),s.options.constrainType&&("height"===s.options.constrainType&&(n={height:s.options.constrainSize,width:"auto"},s.zoomContainer.css(n),s.options.imageCrossfade?(s.zoomWrap.css(n),s.constwidth=s.zoomWrap.width()):(s.$elem.css(n),s.constwidth=p),n={height:s.options.constrainSize,width:s.constwidth},"inner"===s.options.zoomType&&(s.zoomWrap.parent().css(n),s.zoomWindow.css(n)),s.options.tint&&(s.tintContainer.css(n),s.zoomTint.css(n),s.zoomTintImage.css(n))),"width"===s.options.constrainType&&(n={height:"auto",width:s.options.constrainSize},s.zoomContainer.css(n),s.options.imageCrossfade?(s.zoomWrap.css(n),s.constheight=s.zoomWrap.height()):(s.$elem.css(n),s.constheight=d),d={height:s.constheight,width:s.options.constrainSize},"inner"===s.options.zoomType&&(s.zoomWrap.parent().css(d),s.zoomWindow.css(d)),s.options.tint&&(s.tintContainer.css(d),s.zoomTint.css(d),s.zoomTintImage.css(d))))},doneCallback:function(){var o=this;o.options.loadingIcon&&o.spinner&&o.spinner.length&&o.spinner.hide(),o.updateOffset(o),o.nzWidth=o.$elem.width(),o.nzHeight=o.$elem.height(),o.currentZoomLevel=o.options.zoomLevel,o.widthRatio=o.largeWidth/o.nzWidth,o.heightRatio=o.largeHeight/o.nzHeight,"window"===o.options.zoomType&&(o.nzHeight<o.options.zoomWindowHeight/o.heightRatio?o.lensHeight=o.nzHeight:o.lensHeight=String(o.options.zoomWindowHeight/o.heightRatio),o.nzWidth<o.options.zoomWindowWidth?o.lensWidth=o.nzWidth:o.lensWidth=o.options.zoomWindowWidth/o.widthRatio,o.zoomLens&&o.zoomLens.css({width:o.lensWidth,height:o.lensHeight}))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?h("#"+e.options.gallery+" a").each(function(){var o="";h(this).data(e.options.attrImageZoomSrc)?o=h(this).data(e.options.attrImageZoomSrc):h(this).data("image")&&(o=h(this).data("image")),o===e.zoomImage?e.gallerylist.unshift({href:""+o,title:h(this).find("img").attr("title")}):e.gallerylist.push({href:""+o,title:h(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:h(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(o){var e=this;e.scrollingLock=!0,e.newvalue=parseFloat(o).toFixed(2);var i=e.newvalue,t=e.largeHeight/(e.options.zoomWindowHeight/e.nzHeight*e.nzHeight),o=e.largeWidth/(e.options.zoomWindowWidth/e.nzWidth*e.nzWidth);"inner"!==e.options.zoomType&&(t<=i?(e.heightRatio=e.largeHeight/t/e.nzHeight,e.newvalueheight=t,e.fullheight=!0):(e.heightRatio=e.largeHeight/i/e.nzHeight,e.newvalueheight=i,e.fullheight=!1),o<=i?(e.widthRatio=e.largeWidth/o/e.nzWidth,e.newvaluewidth=o,e.fullwidth=!0):(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=i,e.fullwidth=!1),"lens"===e.options.zoomType&&(t<=i?(e.fullwidth=!0,e.newvaluewidth=t):(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=i,e.fullwidth=!1))),"inner"===e.options.zoomType&&((t=parseFloat(e.largeHeight/e.nzHeight).toFixed(2))<i&&(i=t),(o=parseFloat(e.largeWidth/e.nzWidth).toFixed(2))<i&&(i=o),t<=i?(e.heightRatio=e.largeHeight/i/e.nzHeight,e.newvalueheight=t<i?t:i,e.fullheight=!0):(e.heightRatio=e.largeHeight/i/e.nzHeight,e.newvalueheight=t<i?t:i,e.fullheight=!1),o<=i?(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=o<i?o:i,e.fullwidth=!0):(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=i,e.fullwidth=!1));i=!1;"inner"===e.options.zoomType&&(e.nzWidth>=e.nzHeight&&(e.newvaluewidth<=o?i=!0:(i=!1,e.fullheight=!0,e.fullwidth=!0)),e.nzHeight>e.nzWidth&&(e.newvaluewidth<=o?i=!0:(i=!1,e.fullheight=!0,e.fullwidth=!0))),"inner"!==e.options.zoomType&&(i=!0),i&&(e.zoomLock=0,e.changeZoom=!0,e.options.zoomWindowHeight/e.heightRatio<=e.nzHeight&&(e.currentZoomLevel=e.newvalueheight,"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css("height",String(e.options.zoomWindowHeight/e.heightRatio)+"px")),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType||(e.changeBgSize=!0)),e.options.zoomWindowWidth/e.widthRatio<=e.nzWidth&&("inner"!==e.options.zoomType&&e.newvaluewidth>e.newvalueheight&&(e.currentZoomLevel=e.newvaluewidth),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css("width",String(e.options.zoomWindowWidth/e.widthRatio)+"px")),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType||(e.changeBgSize=!0)),"inner"===e.options.zoomType&&(e.changeBgSize=!0,(e.nzWidth>e.nzHeight||e.nzHeight>=e.nzWidth)&&(e.currentZoomLevel=e.newvaluewidth))),e.setPosition(e.currentLoc)},closeAll:function(){var o=this;o.zoomWindow&&o.zoomWindow.hide(),o.zoomLens&&o.zoomLens.hide(),o.zoomTint&&o.zoomTint.hide()},updateOffset:function(o){"body"!=o.options.zoomContainerAppendTo?(o.nzOffset=o.$elem.offset(),appendedPosition=h(o.options.zoomContainerAppendTo).offset(),o.nzOffset.top=o.$elem.offset().top-appendedPosition.top,o.nzOffset.left=o.$elem.offset().left-appendedPosition.left):o.nzOffset=o.$elem.offset()},changeState:function(o){"enable"===o&&(this.options.zoomEnabled=!0),"disable"===o&&(this.options.zoomEnabled=!1)},responsiveConfig:function(o){return o.respond&&0<o.respond.length?h.extend({},o,this.configByScreenWidth(o)):o},configByScreenWidth:function(o){var e=h(t).width(),i=h.grep(o.respond,function(o){o=o.range.split("-");return e>=o[0]&&e<=o[1]});return 0<i.length?i[0]:o}};h.fn.ezPlus=function(e){return this.each(function(){var o=Object.create(i);o.init(e,this),h.data(this,"ezPlus",o)})},h.fn.ezPlus.options={attrImageZoomSrc:"zoom-image",borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:"zoomGalleryActive",gallerySelector:!1,galleryItem:"a",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:1.01,onComplete:h.noop,onDestroy:h.noop,onImageClick:h.noop,onImageSwap:h.noop,onImageSwapComplete:h.noop,onShow:h.noop,onZoomedImageLoaded:h.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomId:-1,zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:"window",zoomWindowAlwaysShow:!1,zoomWindowBgColour:"#fff",zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0,zIndex:999}}(jQuery,window,document);