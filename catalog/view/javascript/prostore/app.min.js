function getURLVar(e){var t=[],a=String(document.location).split("?");if(a[1]){var s=a[1].split("&");for(i=0;i<s.length;i++){var o=s[i].split("=");o[0]&&o[1]&&(t[o[0]]=o[1])}return t[e]||""}}function cookieagry(){$(document).on("click","#cookieagry",function(e){e.preventDefault();e=new Date((new Date).getTime()+31536e6);document.cookie="cookieagry=1; path=/; expires="+e.toUTCString(),$(".cookieagry").hide()})}function scrollToTop(){var e=$(".js-stt");e.length&&matchMedia("only screen and (min-width: 1200px)").matches&&($(window).scroll(function(){300<$(this).scrollTop()?e.addClass("active"):e.removeClass("active")}),e.on("click",function(e){$("html, body").animate({scrollTop:0},400),e.preventDefault()}))}function currlanguage(){$("body").on("click","#form-currency .header__currency-menu>li>a",function(e){e.preventDefault(),$("#form-currency input[name='code']").val($(this).attr("data-curr")),$("#form-currency").submit()}),$("body").on("click","#form-language .header__language-menu>li>a",function(e){e.preventDefault(),$("#form-language input[name='code']").val($(this).attr("data-lang")),$("#form-language").submit()})}function callBack(){$(document).on("click",".contact-send",function(){$.ajax({url:"index.php?route=extension/module/callback",type:"post",data:$(this).closest(".data-callback").serialize()+"&action=send",dataType:"json",beforeSend:function(){$(".data-callback > button").attr("disabled","disabled")},complete:function(){$(".data-callback > button").removeAttr("disabled")},success:function(e){$(".alert, .ui-error, .icon-error").remove(),$(".ui-group, .ui-field").removeClass("is-error"),e.warning&&(e.warning.name&&$(".data-callback input[name='name']").after('<span class="error ui-error">'+e.warning.name+"</span>").parent().addClass("is-error"),e.warning.phone&&$(".data-callback input[name='phone']").after('<span class="error ui-error">'+e.warning.phone+"</span>").parent().addClass("is-error"),e.warning.captcha&&$(".data-callback input[name='captcha']").after('<span class="error ui-error">'+e.warning.captcha+"</span>").parent().addClass("is-error")),e.success&&($(".popup__title").after('<div class="alert alert--green alert--opacity"><p class="alert__text">'+e.success+"</p></div>"),sendMetrics("prostore_callback"),$(".data-callback input,.data-callback textarea").val(""),setTimeout(function(){$.fancybox.close()},3e3))}})})}function getCompareWish(){$(".js-compare-total").load("index.php?route=common/header/getcompare"),$(".js-wishlist-total").load("index.php?route=common/header/getwish")}function initPriorityNav(){$(".header__priority").length&&priorityNav.init({initClass:"is-header-priority",mainNavWrapper:".header__priority",mainNav:"ul",navDropdownClassName:"header__priority-dropdown",navDropdownToggleClassName:"header__priority-toggle",navDropdownLabel:($(".header__priority").data("text-more")||"Еще")+'<svg class="icon-arrow-down"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-arrow-down"></use></svg>',navDropdownBreakpointLabel:"menu",breakPoint:0,throttleDelay:10,offsetPixels:0,count:!0,moved:function(){},movedBack:function(){}})}!function(o){o.fn.autocomplete=function(e){return this.each(function(){var s,i,t;this.timer=null,this.items=new Array;o.extend(this,e),o(this).attr("autocomplete","off"),o(this).on("focus",function(){this.request()}),o(this).on("blur",function(){setTimeout(function(e){e.hide()},200,this)}),o(this).on("keydown",function(e){27===e.keyCode?this.hide():this.request()}),this.click=function(e){e.preventDefault(),(t=o(e.target).closest("li").attr("data-value"))&&this.items[t]&&("search"==this.items[t].type?window.location=this.items[t].value:this.select(this.items[t])),"button"==t&&(window.location=o(e.target).attr("href"))},this.show=function(){var e=o(this).position();o(this).siblings("ul.dropdown-menu").css({top:e.top+o(this).outerHeight(),left:e.left}),o(this).siblings("ul.dropdown-menu").show()},this.hide=function(){o(this).siblings("ul.dropdown-menu").hide()},this.request=function(){clearTimeout(this.timer),this.timer=setTimeout(function(e){e.source(o(e).val(),o.proxy(e.response,e))},200,this)},this.response=function(e){if(e.length&&"search"==e[0].type){if(s='<ul class="header__search-menu">',e.length){var t=0;for(i=0;i<e.length;i++)this.items[e[i].id]=e[i];for(i=0;i<e.length;i++)if(!e[i].category){if(e[i].image1){if(s+='<li data-value="'+e[i].id+'"><a class="header__search-item" href="'+e[i].value+'">',s+='<div class="header__search-item-image"><img src="'+e[i].image1+'" alt="'+e[i].label+'"></div>',s+='<div class="header__search-item-desc">',s+='<span class="header__search-item-title">'+e[i].label+"</span>",e[i].special?(s+='<span class="header__search-item-price is-xl-hidden"><ins>'+e[i].special+"</ins><del>"+e[i].price+"</del>",e[i].sales&&e[i].discount&&(s+="<mark>-"+e[i].discount+"</mark>"),s+="</span>"):s+='<span class="header__search-item-price is-xl-hidden">'+e[i].price+"</span>",e[i].model&&(s+='<span class="header__search-item-id">'+e[i].model+"</span>"),s+="</div>",e[i].special?(s+='<span class="header__search-item-price is-xl-visible"><ins>'+e[i].special+"</ins><del>"+e[i].price+"</del>",e[i].sales&&e[i].discount&&(s+="<mark>-"+e[i].discount+"</mark>"),s+="</span>"):s+='<span class="header__search-item-price is-xl-visible">'+e[i].price+"</span>",s+='<span class="header__search-item-arrow is-xl-visible"><svg class="icon-arrow-search"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-arrow-search"></use></svg></span>',s+="</a>",s+='<div class="header__search-dropdown is-xl-visible"><div class="products__item"><div class="products__item-in">',s+='<div class="products__item-topleft"><div class="products__item-badges">',e[i].isnewest&&(s+='<span class="ui-badge ui-badge--blue">'+e[i].isnewest+"</span>"),e[i].special&&""!=e[i].sales&&(s+='<span class="ui-badge ui-badge--red">'+e[i].sales+"</span>"),e[i].popular&&(s+='<span class="ui-badge ui-badge--orange">'+e[i].popular+"</span>"),e[i].hit&&(s+='<span class="ui-badge ui-badge--purple">'+e[i].hit+"</span>"),(e[i].nocatch||e[i].catch)&&(s+='<span class="ui-badge">'+e[i].catch+"</span>"),e[i].reward&&(s+='<span class="ui-badge ui-badge--transparent">'+e[i].text_reward+" "+e[i].reward+"</span>"),s+="</div>",e[i].rating&&(s+='<span class="products__item-rating"><span class="sku__rating-star">'+e[i].rating+'<svg class="icon-star"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-star"></use></svg></span></span>'),s+="</div>",s+='<div class="products__item-buttons">',e[i].wish_compare_data.compare_data.is_in_compare?s+='<button type="button" class="ui-btn ui-btn--compare is-active" data-action="compare" data-for="'+e[i].id+'"><svg class="icon-compare-active"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-compare-active"></use></svg></button>':s+='<button type="button" class="ui-btn ui-btn--compare" data-action="compare" data-for="'+e[i].id+'"><svg class="icon-compare"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-compare"></use></svg></button>',e[i].wish_compare_data.wish_data.is_in_wish?s+='<button type="button" class="ui-btn ui-btn--favorite is-active" data-action="wishlist" data-for="'+e[i].id+'"><svg class="icon-favorites-active"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-favorites-active"></use></svg></button>':s+='<button type="button" class="ui-btn ui-btn--favorite" data-action="wishlist" data-for="'+e[i].id+'"><svg class="icon-favorites"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-favorites"></use></svg></button>',s+="</div>",e[i].images){for(s+='<a class="products__item-gallery" href="'+e[i].value+'"><div class="products__item-image is-active"><img src="'+e[i].image1+'" alt="'+e[i].label+'" /></div>',k=0;k<e[i].images.length;k++)s+='<div class="products__item-image"><img data-src="'+e[i].images[k]+'" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="'+e[i].label+'" /></div>';for(s+='<div class="products__item-pagination"><div class="products__item-bullet is-active"></div>',k=0;k<e[i].images.length;k++)s+='<div class="products__item-bullet"></div>';s+="</div></a>"}else s+='<a class="products__item-image" href="'+e[i].value+'"><img src="'+e[i].image1+'" alt="'+e[i].label+'"/></a>';0<e[i].quantity?s+='<span class="products__item-status products__item-status--true">'+e[i].stock+"</span>":s+='<span class="products__item-status products__item-status--false">'+e[i].stock+"</span>",e[i].manufacturer&&(s+='<span class="products__item-id">'+e[i].manufacturer+"</span>"),s+='<a class="products__item-title" href="'+e[i].value+'">'+e[i].label+"</a>",s+='<p class="products__item-price">',e[i].special?(e[i].sales&&e[i].discount&&(s+="<mark>-"+e[i].discount+"</mark>"),s+="<ins>"+e[i].special+" </ins><del>"+e[i].price+"</del>"):s+=e[i].price,s+="</p>",e[i].isincart?s+='<div class="products__item-action"><div class="ui-add-to-cart is-active">':s+='<div class="products__item-action"><div class="ui-add-to-cart">',e[i].isincart?s+='<button type="button" class="ui-btn ui-btn--primary" onclick="window.location.href=\' '+e[i].cart_link+" ';\""+(e[i].buy_btn?"disabled":"")+">"+e[i].button_to_cart+'<svg class="icon-cart"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-cart"></use></svg></button>':s+='<button type="button" class="ui-btn ui-btn--primary" onclick="cart.add(\' '+e[i].product_id+" ', ' "+e[i].minimum+" ');\""+(e[i].buy_btn?"disabled":"")+">"+e[i].button_cart+'<svg class="icon-cart"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-cart"></use></svg></button>',s+='<div class="ui-number"><button class="ui-number__decrease"><svg class="icon-decrease"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-decrease"></use></svg></button><button class="ui-number__increase"><svg class="icon-increase"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-increase"></use></svg></button><input class="ui-number__input" type="number" name="prod_id_quantity['+e[i].product_id+']" value="'+e[i].minimum+'" min="0" max="9999"></div>',s+='<a class="ui-btn ui-btn--view js-btn-preview" data-for="'+e[i].product_id+'" href="#popupprod"><svg class="icon-view"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-view"></use></svg></a>',s+="</div></div>",s+="</div></div></div>",s+="</li>"}else e[i].category_id?(s+='<li><a class="header__search-category" href="'+e[i].value+'">',s+='<span class="header__search-category-icon">',s+='<svg class="icon-search"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-search"></use></svg>',s+="</span>",s+='<span class="header__search-category-title">'+e[i].label+"</span>",s+='<span class="header__search-category-mark">'+e[i].text_reward+"</span>",s+="</a></li>"):s+='<li data-value="'+e[i].value+'"><a href="#" class="search__item search__item--text">'+e[i].label+"</a></li>";e[i].href&&(t=1)}t&&(s+='<li class="header__search-more"><a class="ui-link ui-link--blue" href="'+e[0].href+'">'+e[0].show_all+"</a></li>");var a=new Array;for(i=0;i<e.length;i++)e[i].category&&(a[e[i].category]||(a[e[i].category]=new Array,a[e[i].category].name=e[i].category,a[e[i].category].item=new Array),a[e[i].category].item.push(e[i]));for(i in a)for(s+='<li class="dropdown-header">'+a[i].name+"</li>",j=0;j<a[i].item.length;j++)s+='<li data-value="'+a[i].item[j].value+'"><a href="#">&nbsp;&nbsp;&nbsp;'+a[i].item[j].label+"</a></li>";s+="</ul>"}s?o("body").addClass("is-search-autocomplete"):o("body").removeClass("is-search-autocomplete"),o(this).parent().siblings("div.header__search-autocomplete").html(s),activateElements()}else{if(s="",e.length){for(i=0;i<e.length;i++)this.items[e[i].value]=e[i];for(i=0;i<e.length;i++)e[i].category||(s+='<li data-value="'+e[i].value+'"><a href="#">'+e[i].label+"</a></li>");a=new Array;for(i=0;i<e.length;i++)e[i].category&&(a[e[i].category]||(a[e[i].category]=new Array,a[e[i].category].name=e[i].category,a[e[i].category].item=new Array),a[e[i].category].item.push(e[i]));for(i in a)for(s+='<li class="dropdown-header">'+a[i].name+"</li>",j=0;j<a[i].item.length;j++)s+='<li data-value="'+a[i].item[j].value+'"><a href="#">&nbsp;&nbsp;&nbsp;'+a[i].item[j].label+"</a></li>"}s?this.show():this.hide(),o(this).siblings("ul.dropdown-menu").html(s)}},o(this).hasClass("js-search-input")?o(this).parent().siblings("div.header__search-autocomplete").on("click","ul.search__list > li > a",o.proxy(this.click,this)):(o(this).after('<ul class="dropdown-menu"></ul>'),o(this).siblings("ul.dropdown-menu").delegate("a","click",o.proxy(this.click,this)))})}}(window.jQuery),jQuery.event.special.touchstart={setup:function(e,t,a){this.addEventListener("touchstart",a,{passive:!t.includes("noPreventDefault")})}},jQuery.event.special.touchmove={setup:function(e,t,a){this.addEventListener("touchmove",a,{passive:!t.includes("noPreventDefault")})}},jQuery.event.special.wheel={setup:function(e,t,a){this.addEventListener("wheel",a,{passive:!0})}},jQuery.event.special.mousewheel={setup:function(e,t,a){this.addEventListener("mousewheel",a,{passive:!0})}};var c,currentScrollTop=0;function headerMobileSticky(){var e,t;$("body").is(".is-page-header-fixed, .is-page-sticky")&&(e=$(window).scrollTop(),(t=$(".header").innerHeight())<e?($(".is-page-sticky").length&&$("html").addClass("is-header-sticky"),$(".is-page-header-fixed").length&&$("html").addClass("is-header-fixed"),$(".header__catalog--clone").is(":empty")&&matchMedia("only screen and (min-width: 1200px)").matches&&$(".header__catalog.header__catalog--fullwidth").clone().prependTo(".header__catalog--clone")):$("html").removeClass("is-header-fixed is-header-sticky is-header-sticky-open"),$(".is-page-sticky").length&&(c<(currentScrollTop=e)&&t+t<e?$("html").removeClass("is-header-sticky-open"):currentScrollTop<c&&!(e<=t)&&$("html").addClass("is-header-sticky-open")),c=currentScrollTop)}$(window).on("scroll",function(e){headerMobileSticky()});var $headerHovers=".header__catalog, .header__call, .header__currency, .header__language, .header__acc, .header__catalog li, .header__info li, .header__nav li, .header__nav .priority-nav__wrapper, .header__tags li, .footer__call";function hasScrollBar(){$.fn.hasScrollBar=function(){return $(this).prop("scrollHeight")-$(this).innerHeight()},$(".js-cart-scrollbar").hasScrollBar()&&$("html").addClass("is-cart-sticky"),$(".js-cart-scrollbar").on("scroll",function(){$(this).scrollTop()>=$(this).hasScrollBar()?$("html").removeClass("is-cart-sticky"):$("html").addClass("is-cart-sticky")})}function SearchInput(){$(".js-search-input").autocomplete({source:function(e,t){$.ajax({url:"index.php?route=product/product/autocomplete&filter_name="+encodeURIComponent(e),dataType:"json",success:function(e){t($.map(e,function(e){return{type:"search",product_id:e.product_id,category_id:e.category_id,label:e.name,price:e.price,model:e.model,special:e.special,manufacturer:e.manufacturer,quantity:e.quantity,images:e.images,stock:e.stock,isnewest:e.isNewest,sales:e.sales,discount:e.discount,catch:e.catch,nocatch:e.nocatch,popular:e.popular,hit:e.hit,isincart:e.isincart,buy_btn:e.buy_btn,image1:e.image,wish_compare_data:e.wish_compare_data,value:e.href,id:e.product_id,minimum:e.minimum,rating:e.rating,href:e.href_search,show_all:e.show_all,button_to_cart:e.button_to_cart,cart_link:e.cart_link,button_cart:e.button_cart,text_reward:e.text_reward}}))}})},select:function(e){$("#search_text").val(e.label),window.location.href=e.href}})}function headerTriggers(a,s){$(document).on("click","."+a,function(e){var t;matchMedia("only screen and (max-width: 1199px)").matches&&(e.preventDefault(),$("body").is("."+s)?$("body").removeClass(s):$("body").addClass(s),"js-nav-trigger"==a&&$("body").is(".is-nav-open")&&($(".header__mobile ul.header__catalog-menu").html('<img class="loader" src="catalog/view/theme/prostore/images/loader.svg" alt="">'),$(".header__mobile ul.header__catalog-menu").load("index.php?route=common/header&mobiheader=")),"js-catalog-trigger"==a&&$("body").is(".is-catalog-open")&&($(".header__mobile .header__catalog-body ul.header__catalog-menu").html('<img class="loader" src="catalog/view/theme/prostore/images/loader.svg" alt="">'),$(".header__mobile .header__catalog-body ul.header__catalog-menu").load("index.php?route=common/header&mobiheader=_fix_menu"))),matchMedia("only screen and (min-width: 1200px)").matches&&("js-currency-trigger"!=a&&"js-language-trigger"!=a||e.preventDefault()),$("body").is(".is-nav-open")||$("body").is(".is-call-open")||$("body").is(".is-catalog-open")||$("body").is(".is-search-open")?$("body").addClass("is-page-lock"):$("body").removeClass("is-page-lock"),$("body").is(".is-search-open")&&setTimeout(function(){$(".header__search-offcanvas .js-search-input").val("").focus()},100),$("body").is(".is-nav-open")?(t=$(".header__group--currency_language").not(":empty").html(),$(".header__group--currency_language").empty(),$(".header__nav-group--currency_language").is(":empty")&&$(".header__nav-group--currency_language").html(t)):(t=$(".header__nav-group--currency_language").not(":empty").html(),$(".header__nav-group--currency_language").empty(),$(".header__group--currency_language").is(":empty")&&$(".header__group--currency_language").html(t)),$("body").is(".is-search-autocomplete")&&$("body").removeClass("is-search-autocomplete").find("form").trigger("reset")})}function initSwiper(){$(".js-swiper-intro").each(function(e){var t=$(this),a=t.data("swiper-effect")||"slide",s=t.data("swiper-speed")||300,i=t.data("swiper-auto");new Swiper(t[0],{slidesPerView:1,spaceBetween:0,effect:a,speed:s,autoplay:!!i&&{delay:i},watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!0,navigation:{nextEl:".js-swiper-intro-next",prevEl:".js-swiper-intro-prev"},pagination:{el:".js-swiper-intro-pagination",type:"bullets",clickable:!0}})});$(window).width();$(".js-swiper-products").each(function(e){var t=$(this),a=t.find(".js-swiper-products-scrollbar");new Swiper(t[0],{slidesPerView:"auto",spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,scrollbar:{el:a[0],draggable:!0},breakpoints:{1200:{slidesPerView:4,spaceBetween:0}}})}),$(".js-swiper-products-small").each(function(e){var t=$(this),a=t.find(".js-swiper-products-small-scrollbar");new Swiper(t[0],{slidesPerView:"auto",spaceBetween:0,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,scrollbar:{el:a[0],draggable:!0},breakpoints:{1200:{slidesPerView:4,spaceBetween:0}}})}),$(".js-swiper-products-order").each(function(e){var t=$(this),a=t.find(".js-swiper-products-order-scrollbar");new Swiper(t[0],{slidesPerView:"auto",spaceBetween:0,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,scrollbar:{el:a[0],draggable:!0},breakpoints:{1200:{slidesPerView:6,spaceBetween:0}}})});var e;new Swiper(".js-swiper-banners",{slidesPerView:1,spaceBetween:0,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!0,navigation:{nextEl:".js-swiper-banners-next",prevEl:".js-swiper-banners-prev"},pagination:{el:".js-swiper-banners-pagination",type:"bullets",clickable:!0}}),new Swiper(".js-swiper-video",{slidesPerView:"auto",spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,breakpoints:{1200:{slidesPerView:4,spaceBetween:0}}}),new Swiper(".js-swiper-gallery",{slidesPerView:1,spaceBetween:0,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!0,navigation:{nextEl:".js-swiper-gallery-next",prevEl:".js-swiper-gallery-prev"},pagination:{el:".js-swiper-gallery-pagination",type:"bullets",clickable:!0}});window.matchMedia("(min-width: 1200px)").matches&&(e=new Swiper(".js-swiper-intro-right",{slidesPerView:1,spaceBetween:0,watchSlidesVisibility:!0,watchOverflow:!0,loop:!0,effect:"fade",autoplay:{disableOnInteraction:!0},pagination:{el:".js-swiper-intro-pagination-right",type:"bullets",clickable:!0}}),$(".js-swiper-intro-right .swiper-slide").on("mouseover",function(){e.autoplay.stop()}),$(".js-swiper-intro-right .swiper-slide").on("mouseout",function(){e.autoplay.start()}),new Swiper(".js-swiper-benefits",{slidesPerView:"auto",spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,breakpoints:{1200:{slidesPerView:6,spaceBetween:0}}}),new Swiper(".js-swiper-blog",{slidesPerView:"auto",spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,breakpoints:{1200:{slidesPerView:4,spaceBetween:0}}}),new Swiper(".js-swiper-news",{slidesPerView:"auto",spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,breakpoints:{1200:{slidesPerView:4,spaceBetween:0}}}),new Swiper(".js-swiper-shops",{slidesPerView:"auto",spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,breakpoints:{1200:{slidesPerView:4,spaceBetween:0}}}),$(".js-swiper-reviews").each(function(e){var t=$(this),a=t.find(".js-swiper-reviews-scrollbar");new Swiper(t[0],{slidesPerView:"auto",spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,grabCursor:!0,scrollbar:{el:a[0],draggable:!0},breakpoints:{1200:{slidesPerView:4,spaceBetween:0}}})}),new Swiper(".js-swiper-brands-featured",{slidesPerView:"auto",spaceBetween:0,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,breakpoints:{1200:{slidesPerView:6,spaceBetween:0}}})),$(".js-swiper-set").each(function(e){var t=$(this),a=t.find(".js-swiper-set-scrollbar");new Swiper(t[0],{slidesPerView:"auto",spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,scrollbar:{el:a[0],draggable:!0},breakpoints:{1200:{slidesPerView:3,spaceBetween:0}}})});var t=$(window).innerWidth();function a(){$(".js-swiper-products-categories").length&&(window.matchMedia("(min-width: 1200px)").matches?(swiperProductsCategories.destroy(!0,!0),$(".js-swiper-products-categories").find(".swiper-slide").children().removeAttr("style")):(swiperProductsCategories.destroy(!0,!0),swiperProductsCategories=new Swiper(".js-swiper-products-categories",swiperProductsCategoriesOptions)))}$(window).on("resize orientationchange",function(e){t!=$(window).innerWidth()&&(a(),t=$(window).innerWidth())}),a()}function initSwiperSku(){$(".js-swiper-vertical").each(function(e){var t=$(this),a=t.find(".js-swiper-vertical-slides"),s=t.find(".js-swiper-vertical-thumbs"),i=t.find(".js-swiper-vertical-prev"),t=t.find(".js-swiper-vertical-next"),o=new Swiper(s,{direction:"horizontal",slidesPerView:"auto",spaceBetween:0,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,simulateTouch:!1,navigation:{nextEl:t[0],prevEl:i[0]},breakpoints:{768:{direction:"vertical",slidesPerView:5}}}),r=new Swiper(a,{slidesPerView:1,spaceBetween:60,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,grabCursor:!0,navigation:{nextEl:t[0],prevEl:i[0]},thumbs:{swiper:o},on:{slideChange:function(){o.slideTo(this.realIndex)}}});$(document).on("click",".js-swiper-vertical-thumbs .swiper-slide",function(){var e=$(this).index();r.slideTo(e)}),$(window).on("resize",function(){o.update(),r.update()})}),$(".js-swiper-horizontal").each(function(e){var t=$(this),a=t.find(".js-swiper-horizontal-slides"),s=t.find(".js-swiper-horizontal-thumbs"),i=t.find(".js-swiper-horizontal-prev"),t=t.find(".js-swiper-horizontal-next"),o=new Swiper(s,{direction:"horizontal",slidesPerView:"auto",spaceBetween:0,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,simulateTouch:!1,navigation:{nextEl:t[0],prevEl:i[0]},breakpoints:{768:{direction:"horizontal",slidesPerView:5}}}),r=new Swiper(a,{slidesPerView:1,spaceBetween:60,watchSlidesVisibility:!0,watchSlidesProgress:!0,watchOverflow:!0,loop:!1,grabCursor:!0,navigation:{nextEl:t[0],prevEl:i[0]},thumbs:{swiper:o},on:{slideChange:function(){o.slideTo(this.realIndex)}}});$(document).on("click",".js-swiper-horizontal-thumbs .swiper-slide",function(){var e=$(this).index();r.slideTo(e)})})}function GalleryMouseover(){$(".products__item-gallery").each(function(e){var t=$(this);$(document).on("mouseenter",".products__item-bullet",function(){var e=$(this).index(),t=100*e*-1,a=$(this).closest(".products__item-gallery").find(".products__item-image").eq(e);a.find("[data-src]").each(function(){$(this).attr("src",$(this).attr("data-src")).removeAttr("data-src")}),a.addClass("is-active").css("transform","translate("+t+"%,0)").siblings().removeClass("is-active"),$(this).closest(".products__item-gallery").find(".products__item-bullet").eq(e).addClass("is-active").siblings().removeClass("is-active")}),t.on("mouseleave",function(){t.find(".products__item-image").eq(0).addClass("is-active").siblings().removeClass("is-active"),t.find(".products__item-bullet").eq(0).addClass("is-active").siblings().removeClass("is-active")})})}function stickySku(){var e;$(".sku__sticky").length&&(window.matchMedia("(min-width: 1200px)").matches?(e=0,$("body").is(".is-page-header-fixed")&&(e=$(".header-fixed").data("fixed-height")||$(".header-fixed").innerHeight()),$(".sku__sticky").stick_in_parent({offset_top:e,bottoming:!0,spacer:!1,inner_scrolling:!0,sticky_class:"is-sticky",parent:".sku__view"})):$(".sku__sticky").trigger("sticky_kit:detach"))}function stickyPersonal(){$(".categories-aside--nav").length&&(window.matchMedia("(min-width: 1200px)").matches?$(".categories-aside--nav").stick_in_parent({offset_top:20,bottoming:!0,spacer:!1,inner_scrolling:!0,sticky_class:"is-sticky",parent:".personal__wrapper"}):$(".categories-aside--nav").trigger("sticky_kit:detach"))}function toggle(){$(document).on("click",".js-toggle-btn",function(e){matchMedia("only screen and (max-width: 1199px)").matches&&(e.preventDefault(),$(this).closest(".js-toggle").is(".is-open")?$(this).closest(".js-toggle").removeClass("is-open"):$(this).closest(".js-toggle").addClass("is-open"))}),$(document).on("click",function(e){0===$(e.target).closest(".js-toggle").length&&$(".js-toggle").removeClass("is-open")}),$(document).on("mouseenter",".js-toggle",function(e){matchMedia("only screen and (min-width: 1200px)").matches&&$(this).addClass("is-open")}).on("mouseleave",".js-toggle",function(e){matchMedia("only screen and (min-width: 1200px)").matches&&$(this).removeClass("is-open")})}function Categories(){var e;$(document).on("click",".js-categories-toggle, .categories-aside__close",function(e){e.preventDefault(),$("html").is(".is-categories-open")?$("html").removeClass("is-categories-open is-page-lock"):$("html").addClass("is-categories-open is-page-lock")}),$(".categories-aside").length&&(e=$(".categories-aside__title").text(),$(".settings > .row").prepend('<div class="col-auto is-xl-hidden"><button class="ui-btn ui-btn--46 ui-btn--white js-categories-toggle">'+e+'<svg class="icon-catalog"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-catalog"></use></svg></button></div>')),$(document).on("click",".show-more-prostore",function(e){var a,s,i;e.preventDefault(),$(this).is("[disabled]")||($(this).attr("disabled",!0),$(this).text("Загрузка..."),a="#mainContainer .products ul.products__list",s=".container-pagination",i=$(this).attr("href"),$.get(i,function(e){var t=$(e).find(a).html();$(a).append(t),t=$(e).find(s).html(),$(s).html(t),t&&(window.history.pushState({},"",i),activateElements())}))})}function initReadmore(){$(".js-readmore").length&&$(".js-readmore").each(function(e){var t=$(this),a=t.data("readmore-toggle")||"Подробнее",s=t.data("readless-toggle")||"Свернуть",i=t.data("collapsedheight-toggle")||150;t.readmore({speed:400,collapsedHeight:i,heightMargin:18,moreLink:'<a href="#" class="ui-link ui-link--blue">'+a+' <svg class="icon-arrow-link"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-arrow-link"></use></svg></a>',lessLink:'<a href="#" class="ui-link ui-link--blue">'+s+' <svg class="icon-arrow-link"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-arrow-link"></use></svg></a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){},blockProcessed:function(){}})})}function compactSku(){var e;$(".js-sku-compact").length&&(e=$(window).scrollTop(),!window.matchMedia("(min-width: 1200px)").matches||e>$(".js-sku-view").offset().top+$(".js-sku-view").innerHeight()?$("html").addClass("is-sku-compact"):$("html").removeClass("is-sku-compact"))}function activateElements(){GalleryMouseover(),countdown(),initReadmore()}function categoryViewOC(){$("#list-view").click(function(){$("#content .product-grid > .clearfix").remove(),$("#content .row > .product-grid").attr("class","product-layout product-list col-xs-12"),$("#grid-view").removeClass("active"),$("#list-view").addClass("active"),localStorage.setItem("display","list")}),$("#grid-view").click(function(){var e=$("#column-right, #column-left").length;2==e?$("#content .product-list").attr("class","product-layout product-grid col-lg-6 col-md-6 col-sm-12 col-xs-12"):1==e?$("#content .product-list").attr("class","product-layout product-grid col-lg-4 col-md-4 col-sm-6 col-xs-12"):$("#content .product-list").attr("class","product-layout product-grid col-lg-3 col-md-3 col-sm-6 col-xs-12"),$("#list-view").removeClass("active"),$("#grid-view").addClass("active"),localStorage.setItem("display","grid")}),"list"==localStorage.getItem("display")?($("#list-view").trigger("click"),$("#list-view").addClass("active")):($("#grid-view").trigger("click"),$("#grid-view").addClass("active"))}function bootstrapTooltip(){$("body").is(".bootstrap-5")?$('[data-toggle="tooltip"]').length&&new bootstrap.Tooltip($('[data-toggle="tooltip"]')):$('[data-toggle="tooltip"]').tooltip()}function toCartButtonCommon(t){var a=$('.ui-add-to-cart a[data-for="'+t+'"]').siblings("button.ui-btn--primary");if(a.length){let e=a.closest(".ui-add-to-cart").addClass("is-active").find(".ui-btn--primary");t=e.data("add-to-cart")||"Перейти <br> в корзину";t+=' <svg class="icon-cart"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-cart"></use></svg>',e.html(t),a.unbind("click"),a.attr("onclick","window.location.href='index.php?route=checkout/cart';")}}function toCartButtonCommonReset(e){var t=$('.ui-add-to-cart a[data-for="'+e+'"]').siblings("button.ui-btn--primary");t.length&&(qty=$('input[name="prod_id_quantity['+e+']"]').prop("defaultValue"),$('input[name="prod_id_quantity['+e+']"]').val(qty),t.closest(".ui-add-to-cart").removeClass("is-active").find(".ui-btn--primary").html('Купить <svg class="icon-cart"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-cart"></use></svg>'),t.unbind("click"),t.attr("onclick","cart.add('"+e+"', '"+qty+"');"))}function toCartButton(){var e=$("#button-cart,#button-cart-additional");e.length&&e.each(function(e,t){buttonCart=$(t),buttonCart.closest(".ui-add-to-cart").addClass("is-active").find(".ui-btn--primary span").text($(this).data("add-to-cart")||"Перейти в корзину"),buttonCart.unbind("click"),buttonCart.attr("onclick","window.location.href='index.php?route=checkout/cart';"),buttonCart.removeAttr("id")})}function toCartButtonReset(){var e=".sku__compact-wrapper .ui-add-to-cart button.ui-btn--primary";let t=$("#product .sku__action .ui-add-to-cart button.ui-btn--primary,"+e);t.closest(".ui-add-to-cart").hasClass("is-active")&&(qty=$('input[name="prod_id_quantity['+product_id+']"]').prop("defaultValue"),$('input[name="prod_id_quantity['+product_id+']"]').val(qty),t.closest(".ui-add-to-cart").removeClass("is-active").find(".ui-btn--primary span").text("Купить"),t.removeAttr("onclick"),t.attr("id","button-cart"),$(e).attr("id","button-cart-additional"))}function alertClose(e){$(e).closest(".alert").addClass("is-hide").on("animationend",function(){$(e).remove()})}function alertAutoClose(){var e=$(".alerts-wrapper");$(e).addClass("is-auto-close"),setTimeout(function(){$(e).removeClass("is-auto-close"),$(e).find(".alert--green").each(function(){alertClose(this)})},5e3)}$(document).on("mouseenter",$headerHovers,function(e){var t,a,s;matchMedia("only screen and (min-width: 1200px)").matches&&($(this).addClass("is-open"),$("body").removeClass("is-search-autocomplete"),$(this).closest(".header__nav, .header__tags")&&((t=$(this).find(".header__nav-offcanvas, .header__tags-offcanvas--fullwidth")).css("left",0),t.length&&(a=t.offset().left,s=t.innerWidth(),(s=$(window).innerWidth()-(a+s)-25)<0&&t.css("left",s))))}).on("mouseleave",$headerHovers,function(e){matchMedia("only screen and (min-width: 1200px)").matches&&$(this).removeClass("is-open")}),$(document).on("mouseenter","[data-catalog-target]",function(e){var t;matchMedia("only screen and (min-width: 1200px)").matches&&($("[data-catalog-target], [data-catalog-dropdown]").removeClass("is-active"),""!==(t=$(this).data("catalog-target"))&&$("[data-catalog-target="+t+"], [data-catalog-dropdown="+t+"]").addClass("is-active"))}),$(document).on("mouseleave",".header__catalog",function(e){$("[data-catalog-target], [data-catalog-dropdown]").removeClass("is-active")}),$(document).on("mouseenter",".header-fixed .header__catalog-menu > li:has(.header__catalog-dropdown)",function(e){var t=$(this),a=t.position().top,s=t.children(".header__catalog-dropdown");s.children(".header__catalog-menu").innerHeight()<$(window).innerHeight()/1.5&&(s.css({top:a+"px",transform:"translateY(-1rem)"}),0<s[0].getBoundingClientRect().bottom-$(window).innerHeight()&&s.css({top:a-s.innerHeight()+t.innerHeight()+"px",transform:"translateY(1rem)"}))}),$(window).on("load resize",function(e){$(".header__nav-dropdown").each(function(e){var t=$(window).innerWidth(),a=$(this);t-a.innerWidth()-a.offset().left<0?a.addClass("is-reverse"):a.removeClass("is-reverse")})}),$(document).on("click",".header__desktop .header__cart-btn, .header__cart-close, .header__cart-overlay",function(e){e.preventDefault(),$("html").is(".is-cart-open")?$("html").removeClass("is-cart-open"):$("html").addClass("is-cart-open")}),$(document).on("click",function(e){0===$(e.target).closest(".header__cart").length&&$("html").removeClass("is-cart-open")}),$(document).on("click",".js-search-btn",function(e){var t=$("base").attr("href")+"index.php?route=product/search",a=$(this).parent().find("input[name='search']").val();a&&(t+="&search="+encodeURIComponent(a)),location=t}),$(document).on("keydown",".js-search-input",function(e){13==e.keyCode&&$(this).parent().find(".js-search-btn").trigger("click")}),$(document).on("mouseenter",".header__search-menu li",function(e){matchMedia("only screen and (min-width: 1200px)").matches&&$(this).addClass("is-open")}).on("mouseleave",".header__search-menu li",function(e){matchMedia("only screen and (min-width: 1200px)").matches&&$(this).removeClass("is-open")}),$(document).on("click",function(e){0===$(e.target).closest(".header__search").length&&$("body").removeClass("is-search-autocomplete")}),$(document).on("click",".header__catalog-menu li:has(.header__catalog-dropdown) > a",function(e){matchMedia("only screen and (max-width: 1199px)").matches&&(e.preventDefault(),$(this).closest("li").is(".is-open")?$(this).closest("li").removeClass("is-open"):$(this).closest("li").addClass("is-open"))}),$(document).on("click",".header__catalog-back",function(e){matchMedia("only screen and (max-width: 1199px)").matches&&(e.preventDefault(),$(this).closest("li").removeClass("is-open"))}),$(window).on("load resize orientationchange",function(){stickySku(),stickyPersonal()}),$(document).on("click",".js-data-toggle",function(e){matchMedia("only screen and (max-width: 1199px)").matches&&(e.preventDefault(),$(this).closest(".js-data").is(".is-open")?$(this).closest(".js-data").removeClass("is-open").find(".js-data-content").slideUp("fast"):$(this).closest(".js-data").addClass("is-open").find(".js-data-content").slideDown("fast"))}),$(window).on("load resize",function(){matchMedia("only screen and (min-width: 1200px)").matches&&$(".js-data").removeClass("is-open").find(".js-data-content").removeAttr("style")}),$(document).on("click",".js-action-toggle",function(e){e.preventDefault(),$(this).closest(".js-action").is(".is-open")?$(this).closest(".js-action").removeClass("is-open"):$(this).closest(".js-action").addClass("is-open")}),$(document).on("click",function(e){0===$(e.target).closest(".js-action").length&&$(".js-action").removeClass("is-open")}),$(document).on("click",".js-chat-toggle",function(e){e.preventDefault(),$("html").is(".is-chat-open")?$("html").removeClass("is-chat-open"):$("html").addClass("is-chat-open")}),$(document).on("click",function(e){0===$(e.target).closest(".js-chat").length&&$("html").removeClass("is-chat-open")}),$(document).on("click",".js-collapse-toggle",function(e){e.preventDefault(),$(this).closest(".js-collapse").is(".is-open")?$(this).closest(".js-collapse").removeClass("is-open").find(".js-collapse-content").slideUp("fast"):$(this).closest(".js-collapse").addClass("is-open").find(".js-collapse-content").slideDown("fast")}),$(document).on("click",".categories-aside__menu > li:has(.categories-aside__dropdown) > .categories-aside__link",function(e){matchMedia("only screen and (min-width: 1200px)").matches&&(e.preventDefault(),$(this).closest("li").is(".is-open")?$(this).closest("li").removeClass("is-open").find(".categories-aside__dropdown").slideUp("fast",function(){$(".categories-aside--nav").length&&window.matchMedia("(min-width: 1200px)").matches&&$(".categories-aside--nav").trigger("sticky_kit:recalc")}):$(this).closest("li").addClass("is-open").find(".categories-aside__dropdown").slideDown("fast",function(){$(".categories-aside--nav").length&&window.matchMedia("(min-width: 1200px)").matches&&$(".categories-aside--nav").trigger("sticky_kit:recalc")}))}),$(document).on("mouseenter",".categories-aside__submenu > li:has(.categories-aside__dropright)",function(e){matchMedia("only screen and (min-width: 1200px)").matches&&$(this).addClass("is-open")}).on("mouseleave",".categories-aside__submenu > li:has(.categories-aside__dropright)",function(e){matchMedia("only screen and (min-width: 1200px)").matches&&$(this).removeClass("is-open")}),$(document).on("click",".categories-aside__menu > li:has(.categories-aside__dropdown) > .categories-aside__link, .categories-aside__submenu > li:has(.categories-aside__dropright) > .categories-aside__sublink",function(e){matchMedia("only screen and (max-width: 1199px)").matches&&(e.preventDefault(),$(this).closest("li").is(".is-open")?$(this).closest("li").removeClass("is-open"):$(this).closest("li").addClass("is-open"))}),$(document).on("click",".categories-aside__back",function(e){matchMedia("only screen and (max-width: 1199px)").matches&&(e.preventDefault(),$(this).closest("li").removeClass("is-open"))}),$(document).on("change keydown",".header__cart-item-number .ui-number__input,.cart__item-number .ui-number__input,.products__item-action .ui-number__input,#product .ui-number__input",function(e){var t=$(this).val();"keydown"==e.type&&13!=e.keyCode||t<0||(e=$(this).attr("name"),cart.update(e,t))}),$(document).on("click",".filter-aside__toggle, .filter-aside__close",function(e){e.preventDefault(),$("html").is(".is-filter-open")?$("html").removeClass("is-filter-open is-page-lock"):$("html").addClass("is-filter-open is-page-lock")}),$(document).on("click",".show-more",function(e){e.preventDefault();var t=$(this).data("for"),a=$("#prodtab_"+t),e="index.php?route=extension/module/prostore_product_tabs/showmore #prodtab_"+t+" div:first";t&&a.load(e,{type:"post",module_id:t},function(){})}),$(document).on("click","[data-tabs-btn]",function(e){e.preventDefault();$(this);var t,e=$(this).attr("data-tabs-btn");sku=$(".sku"),$(this).is("[data-scroll-top]")&&(t=$("[data-tabs-content="+e+"]").offset().top-10,$(".js-sku-compact").length&&(t-=$(".js-sku-compact").innerHeight())),$(this).is(".is-active")?sku.length?$("[data-tabs-btn], [data-tabs-content]").removeClass("is-active"):($(this).closest("[data-tabs]").find("[data-tabs-btn]").removeClass("is-active"),$(this).closest("[data-tabs]").find("[data-tabs-content]").removeClass("is-active")):(sku.length?$("[data-tabs-btn], [data-tabs-content]").removeClass("is-active"):($(this).closest("[data-tabs]").find("[data-tabs-btn]").removeClass("is-active"),$(this).closest("[data-tabs]").find("[data-tabs-content]").removeClass("is-active")),$("[data-tabs-btn="+e+"], [data-tabs-content="+e+"]").addClass("is-active"),$(this).is("[data-scroll-top]")&&$("html, body").animate({scrollTop:t},"fast"))}),$(document).on("click","[data-accordion-btn]",function(e){e.preventDefault();$(this);e=$(this).attr("data-accordion-btn");tab_target=$("[data-accordion-content="+e+"]").offset().top-10,window.matchMedia("(min-width: 1200px)").matches?($(".js-sku-compact").length&&(tab_target-=$(".js-sku-compact").innerHeight()),$("body").is(".is-page-header-fixed")&&(tab_target-=$(".header-fixed").data("fixed-height")||$(".header-fixed").innerHeight())):tab_target-=$(".header__mobile-fixed").innerHeight(),$(this).is(".is-active")?$("[data-accordion]").find("[data-accordion-btn="+e+"], [data-accordion-content="+e+"]").removeClass("is-active").find("[data-accordion-collapse]").slideUp("fast"):($("html, body").animate({scrollTop:tab_target},"fast"),$("[data-accordion]").find("[data-accordion-btn="+e+"], [data-accordion-content="+e+"]").addClass("is-active").find("[data-accordion-collapse]").slideDown("fast"),initReadmore()),$(window).trigger("resize")}),$(window).on("scroll",function(e){compactSku()}),$(document).on("keyup",".ui-number__input",function(e){var t=$(this).val(),a=$(this).is("[max]")?$(this).attr("max"):9999;t>a.length&&(a=t.slice(0,a.length),$(this).val(a))}),$(document).on("click",".ui-number__increase",function(e){e.preventDefault();var t=$(this).closest(".ui-number").find(".ui-number__input"),a=t.is("[max]")?t.attr("max"):9999,s=t.is("[step]")?parseInt(t.attr("step")):1,e=parseInt(t.val());e<a&&(t.val(e+s),t.change())}),$(document).on("click",".ui-number__decrease",function(e){e.preventDefault();var t=$(this).closest(".ui-number").find(".ui-number__input"),a=t.is("[min]")?t.attr("min"):1,s=t.is("[step]")?parseInt(t.attr("step")):1,e=parseInt(t.val());a<e&&(t.val(e-s),t.change())}),$(document).on("click",".js-options-item",function(e){e.preventDefault(),$(this).addClass("is-active").siblings().removeClass("is-active");e=$(this);null!=$(this).attr("data-href")?location=$(this).attr("data-href"):null!=$(this).attr("data-option")&&(e=e.attr("data-option"),$("#mainContainer").load(window.location.href,{type:"post",view:e},function(){activateElements()}))}),$(document).on("click",".sku__addto-btn",function(e){var t=$(this).data("action"),a=$(this).data("for"),s="add";$(this).hasClass("is-active")&&(s="remove"),new Function("product_id",t+"."+s+"(product_id)")(a)}),$(document).on("click",".ui-btn--compare,.ui-btn--favorite",function(e){var t=$(this).data("action"),a=$(this).data("for"),s="add";$(this).hasClass("is-active")&&(s="remove"),new Function("product_id",t+"."+s+"(product_id)")(a)}),$(document).on("click",".alert__close",function(e){e.preventDefault(),alertClose(this)});var fancyboxOptions={infobar:!1,toolbar:!1,clickOutside:!0,touch:!0,transitionEffect:"slide",lang:"ru",smallBtn:!0,closeExisting:!1,hideScrollbar:!0,preventCaptionOverlap:!0,autoFocus:!1,backFocus:!1,trapFocus:!1,loop:!0,thumbs:{autoStart:!0,hideOnClose:!0,parentEl:".fancybox-container",axis:!1},buttons:["close"],i18n:{ru:{CLOSE:"Закрыть",NEXT:"Вперед",PREV:"Назад",ERROR:"Запрашиваемый контент не может быть загружен. <br/> Пожалуйста, попробуйте позже."}},btnTpl:{close:'<button data-fancybox-close class="fancybox-close" title="{{CLOSE}}"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.7612 9.99893L19.6305 2.14129C19.8657 1.90606 19.9979 1.58701 19.9979 1.25434C19.9979 0.921668 19.8657 0.602622 19.6305 0.367388C19.3953 0.132153 19.0763 0 18.7437 0C18.411 0 18.092 0.132153 17.8568 0.367388L10 8.23752L2.14319 0.367388C1.90799 0.132153 1.58897 2.95361e-07 1.25634 2.97839e-07C0.923701 3.00318e-07 0.604689 0.132153 0.36948 0.367388C0.134271 0.602622 0.00213201 0.921668 0.002132 1.25434C0.002132 1.58701 0.134271 1.90606 0.36948 2.14129L8.23878 9.99893L0.36948 17.8566C0.252404 17.9727 0.159479 18.1109 0.0960643 18.2631C0.0326494 18.4153 0 18.5786 0 18.7435C0 18.9084 0.0326494 19.0717 0.0960643 19.224C0.159479 19.3762 0.252404 19.5143 0.36948 19.6305C0.4856 19.7476 0.623751 19.8405 0.775965 19.9039C0.928178 19.9673 1.09144 20 1.25634 20C1.42123 20 1.5845 19.9673 1.73671 19.9039C1.88892 19.8405 2.02708 19.7476 2.14319 19.6305L10 11.7603L17.8568 19.6305C17.9729 19.7476 18.1111 19.8405 18.2633 19.9039C18.4155 19.9673 18.5788 20 18.7437 20C18.9086 20 19.0718 19.9673 19.224 19.9039C19.3762 19.8405 19.5144 19.7476 19.6305 19.6305C19.7476 19.5143 19.8405 19.3762 19.9039 19.224C19.9674 19.0717 20 18.9084 20 18.7435C20 18.5786 19.9674 18.4153 19.9039 18.2631C19.8405 18.1109 19.7476 17.9727 19.6305 17.8566L11.7612 9.99893Z" fill="currentColor"/></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close" title="{{CLOSE}}"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.7612 9.99893L19.6305 2.14129C19.8657 1.90606 19.9979 1.58701 19.9979 1.25434C19.9979 0.921668 19.8657 0.602622 19.6305 0.367388C19.3953 0.132153 19.0763 0 18.7437 0C18.411 0 18.092 0.132153 17.8568 0.367388L10 8.23752L2.14319 0.367388C1.90799 0.132153 1.58897 2.95361e-07 1.25634 2.97839e-07C0.923701 3.00318e-07 0.604689 0.132153 0.36948 0.367388C0.134271 0.602622 0.00213201 0.921668 0.002132 1.25434C0.002132 1.58701 0.134271 1.90606 0.36948 2.14129L8.23878 9.99893L0.36948 17.8566C0.252404 17.9727 0.159479 18.1109 0.0960643 18.2631C0.0326494 18.4153 0 18.5786 0 18.7435C0 18.9084 0.0326494 19.0717 0.0960643 19.224C0.159479 19.3762 0.252404 19.5143 0.36948 19.6305C0.4856 19.7476 0.623751 19.8405 0.775965 19.9039C0.928178 19.9673 1.09144 20 1.25634 20C1.42123 20 1.5845 19.9673 1.73671 19.9039C1.88892 19.8405 2.02708 19.7476 2.14319 19.6305L10 11.7603L17.8568 19.6305C17.9729 19.7476 18.1111 19.8405 18.2633 19.9039C18.4155 19.9673 18.5788 20 18.7437 20C18.9086 20 19.0718 19.9673 19.224 19.9039C19.3762 19.8405 19.5144 19.7476 19.6305 19.6305C19.7476 19.5143 19.8405 19.3762 19.9039 19.224C19.9674 19.0717 20 18.9084 20 18.7435C20 18.5786 19.9674 18.4153 19.9039 18.2631C19.8405 18.1109 19.7476 17.9727 19.6305 17.8566L11.7612 9.99893Z" fill="currentColor"/></svg></button>'},baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-stage"></div></div></div></div>',beforeLoad:function(e,t){$("body").removeClass("fancybox-type-inline fancybox-type-image fancybox-type-iframe fancybox-type-ajax"),"image"===t.type&&$("body").addClass("fancybox-type-image"),"iframe"===t.type&&$("body").addClass("fancybox-type-iframe"),"inline"===t.type&&$("body").addClass("fancybox-type-inline"),"ajax"===t.type&&$("body").addClass("fancybox-type-ajax")},afterLoad:function(e,t){t.type},beforeShow:function(e,t){$("body").addClass("fancybox-lock"),"image"===t.type&&$("body").addClass("fancybox-disable-touch")},afterClose:function(e,t){$("body").removeClass("fancybox-lock"),"image"===t.type&&$("body").removeClass("fancybox-disable-touch");t=$(".youtube-video-place iframe");t.length&&t.attr("src",t.attr("src").replace(/autoplay=1/,"autoplay=0"))}};function initFancybox(){$("[data-fancybox]").length&&($("[data-fancybox]").fancybox(fancyboxOptions),$(document).on("click","[data-fancybox-gallery]",function(e){e.preventDefault();e=$(this).data("fancybox-gallery");$.fancybox.open(e,fancyboxOptions)}),$(document).on("click",'.agree, .benefits__item[href*="information_id="]',function(e){e.preventDefault(),$("#modal-agree").remove();var t=this;$.ajax({url:$(t).attr("href"),type:"get",dataType:"html",success:function(e){html='<div class="fancybox-is-hidden popup popup--agree" id="modal-agree">',html+='  <span class="popup__title">'+$(t).text()+"</span>",html+='  <div class="popup__form">'+e+"</div>",html+="</div>",$("body").append(html),$.fancybox.open($("#modal-agree"),fancyboxOptions)}})}))}function rangeSlider(){function n(e){return(e+"").split("").reverse().join("").replace(/(\d{3})/g,"$1 ").split("").reverse().join("").replace(/^ /,"")}var e,t;$(".ui-range").length&&(e=$("#min_price_current").val(),t=$("#max_price_current").val(),$(".ui-range__slider").ionRangeSlider({type:"double",from:e,to:t,step:1,min:0,max:1e6,hide_min_max:!0,hide_from_to:!0,force_edges:!0,grid:!1,onFinish:function(e){sliderProducts($(".ui-range__slider"))}}),$(".ui-range__slider").on("change",function(e){e.preventDefault();var t=$(this),a=(t.data("ionRangeSlider"),n(t.data("from"))),s=n(t.data("to")),i=t.closest(".ui-range").find(".js-filter-from"),o=i.data("prefix"),r=t.closest(".ui-range").find(".js-filter-to"),e=r.data("prefix");i.val(o+" "+a),r.val(e+" "+s),$("#min_price_current").val(t.data("from")),$("#max_price_current").val(t.data("to"))}),$("input[name^='filter']").on("click",function(e){sliderProducts($(this))}))}function countdown(){$(".js-countdown").length&&$(".js-countdown").each(function(){var e=$(this).data("text-countdown")||"Дней,Часов,Минут,Секунд";$(this).countDown({css_class:"countdown",always_show_days:!0,with_labels:!0,with_seconds:!1,with_separators:!1,with_hh_leading_zero:!1,with_mm_leading_zero:!1,with_ss_leading_zero:!1,label_dd:e.split(",")[0],label_hh:e.split(",")[1],label_mm:e.split(",")[2],label_ss:e.split(",")[3]})})}function zoomEzPlus(){$("[data-zoom]").length&&($("[data-zoom-inner]").ezPlus({zoomType:"inner",cursor:"pointer",borderSize:0,borderColour:"#3B55E6",responsive:!0,easing:!1,zoomWindowFadeIn:400,zoomWindowFadeOut:0,containLensZoom:!1,gallery:!1,imageCrossfade:!0,zoomContainerAppendTo:".app"}),$("[data-zoom-lens]").ezPlus({zoomType:"lens",cursor:"pointer",borderSize:0,borderColour:"#3B55E6",responsive:!0,easing:!1,zoomWindowFadeIn:400,zoomWindowFadeOut:0,containLensZoom:!0,gallery:!0,imageCrossfade:!0,lensShape:"square",zoomContainerAppendTo:".app"}),$("[data-zoom-window]").ezPlus({zoomType:"window",cursor:"pointer",borderSize:0,borderColour:"#3B55E6",responsive:!0,easing:!1,zoomWindowFadeIn:400,zoomWindowFadeOut:0,containLensZoom:!1,gallery:!1,imageCrossfade:!0,zoomContainerAppendTo:".app"}))}function addSubscribe(){$("input[name='emailsubscr']").keypress(function(e){13==e.which&&$(this).next().click()}),$(".js-subscribe-btn").on("click",function(){var e=$(this).closest(".ui-group").find('input[name="emailsubscr"]').val();$.ajax({url:"index.php?route=extension/module/prostore_subscribe/addsubscribe",type:"post",dataType:"json",data:"email="+e+"&module=0",success:function(e){$(".alert").remove(),e.error&&$(".main").prepend($('<div class="alerts-wrapper"><div class="alert alert--red"><button class="alert__close"><svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text"> '+e.error+" </p></div></div>")),e.success&&(sendMetrics("prostore_subscribe"),$(".main").prepend($('<div class="alerts-wrapper"><div class="alert alert--green"><button class="alert__close"><svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text"> '+e.success+" </p></div></div>")),alertAutoClose(),$("input[name='emailsubscr']").val(""),setTimeout(function(){$(".alert").remove()},5e3))}})})}function activateDatepicker(){var e;$("body").is(".bootstrap-5")?($('head > script[src="catalog/view/javascript/prostore/datetimepicker/moment.min.js"]').length||$("head").append('<script type="text/javascript" src="catalog/view/javascript/prostore/datetimepicker/moment.min.js"><\/script><script type="text/javascript" src="catalog/view/javascript/prostore/datetimepicker/moment-with-locales.min.js"><\/script><script type="text/javascript" src="catalog/view/javascript/prostore/datetimepicker/daterangepicker.js"><\/script><link href="catalog/view/javascript/prostore/datetimepicker/daterangepicker.css" type="text/css" rel="stylesheet">'),$(".date").daterangepicker({singleDatePicker:!0,autoApply:!0,locale:{format:"YYYY-MM-DD"}}),$(".time").daterangepicker({singleDatePicker:!0,datePicker:!1,autoApply:!0,timePicker:!0,timePicker24Hour:!0,locale:{format:"HH:mm"}}).on("show.daterangepicker",function(e,t){t.container.find(".calendar-table").hide()}),$(".datetime").daterangepicker({singleDatePicker:!0,autoApply:!0,timePicker:!0,timePicker24Hour:!0,locale:{format:"YYYY-MM-DD HH:mm"}})):($('head > script[src="catalog/view/javascript/jquery/datetimepicker/moment/moment.min.js"]').length||$("head").append('<script type="text/javascript" src="catalog/view/javascript/jquery/datetimepicker/moment/moment.min.js"><\/script><script type="text/javascript" src="catalog/view/javascript/jquery/datetimepicker/moment/moment-with-locales.min.js"><\/script><script type="text/javascript" src="catalog/view/javascript/jquery/datetimepicker/bootstrap-datetimepicker.min.js"><\/script><link href="catalog/view/javascript/jquery/datetimepicker/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet">'),e=document.documentElement.lang,$(".date").datetimepicker({language:e,widgetParent:".ui-group--date",direction:"bottom",pickTime:!1}),$(".datetime").datetimepicker({language:e,widgetParent:".ui-group--datetime",direction:"bottom",pickDate:!0,pickTime:!0}),$(".time").datetimepicker({language:e,widgetParent:".ui-group--time",direction:"bottom",pickDate:!1}))}function activateUploadBtn(){$("button[id^='button-upload']").on("click",function(){var t=this;$("#form-upload").remove(),$("body").prepend('<form enctype="multipart/form-data" id="form-upload" style="display: none;"><input type="file" name="file" /></form>'),$("#form-upload input[name='file']").trigger("click"),"undefined"!=typeof timer&&clearInterval(timer),timer=setInterval(function(){""!=$("#form-upload input[name='file']").val()&&(clearInterval(timer),$.ajax({url:"index.php?route=tool/upload",type:"post",dataType:"json",data:new FormData($("#form-upload")[0]),cache:!1,contentType:!1,processData:!1,beforeSend:function(){$(t).button("loading")},complete:function(){$(t).button("reset")},success:function(e){$(".ui-error").remove(),e.error&&$(t).parent().find("input").after('<span class="error ui-error">'+e.error+"</span>"),e.success&&(alert(e.success),$(t).parent().find("input").val(e.code))},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}}))},500)})}function cartExrtaElem(e){e?($("#cart  .cart__clear").show(),$("#cart  .cart__foot").show()):($("#cart  .cart__clear").hide(),$("#cart  .cart__foot").hide())}function optionRequired(e){$("#popupprod").removeClass("popup--prod").addClass("popup popup--option-required"),$("#popupprod .js-sku-view").empty().html('<img src="catalog/view/theme/prostore/images/loader.svg" alt="">').load("index.php?route=product/product/show_in_popup&prod_id="+e+"&popup=1 #product",function(){$("#popupprod .sku__group:not(.sku__group--options)").addClass("hide"),initFancybox(),activateUploadBtn(),$(this).find("input[name^='option']").is(".date, .datetime, .time")&&activateDatepicker(),$("#popupprod").find(".ui-btn--fullwidth").attr("onclick","cart.popupadd("+e+");")}),$.fancybox.open($("#popupprod"),fancyboxOptions)}function doFilter(){$(document).on("click","#button-filter",function(){location=getOcFilterUrl()}),$(document).on("click",".js-filter-reset",function(e){location=$("input[name='fix_filter_action']").val()})}function getOcFilterUrl(){var t=[];$("input[name^='filter']:checked").each(function(e){t.push(this.value)});var e=$("#min_price_current").val(),a=$("#max_price_current").val();return $("input[name='fix_filter_action']").val()+"&filter="+t.join(",")+"&min_price="+e+"&max_price="+a}function sliderProducts(e){$(".slidproducts").remove(),$("#button-filter").removeAttr("disabled");var t=[],a=e.closest("label.ui-check");e.hasClass("ui-range__slider")&&(a=e.closest(".filter-aside__group-body")),$("input[name^='filter']:checked").each(function(e){t.push(this.value)});var s=$("#min_price_current").val(),i=$("#max_price_current").val(),e=$("#filter_category_id").val(),o=getOcFilterUrl();$.ajax({url:"index.php?route=product/category/totalproducts/&filter="+t.join(",")+"&min_price="+s+"&max_price="+i+"&filter_category_id="+e,dataType:"json",success:function(e){var t;e.total?(t='<span class="products-amount slidproducts is-xl-visible" id="count-'+e.id+'"><span class="products-amount__amount"> '+e.text_products+" "+e.total+' </span><a class="ui-link ui-link--blue ui-link--underline" href="'+o+'">'+e.text_show+"</a></span>",$(".filter-aside__more").html('<a href="'+o+'" class="ui-btn ui-btn--60 ui-btn--primary ui-btn--fullwidth">'+e.text_products+" "+e.total+", "+e.text_show.toLowerCase()+"</a>")):(t='<span class="products-amount slidproducts is-xl-visible" id="count-'+e.id+'"><span class="products-amount__amount"> '+e.text_products+" </span>"+e.total,$(".filter-aside__more").html('<button class="ui-btn ui-btn--60 ui-btn--primary ui-btn--fullwidth">'+e.text_products+" "+e.total+"</button>"),$("#button-filter, .filter-aside__more button").attr("disabled","disabled")),a.before($(t).fadeIn(100)),setTimeout(function(){$("#count-"+e.id).fadeOut(100)},6e3)}})}function sendYM(e){var t;"function"==typeof ym&&$("meta[property='yandex_metric']").attr("content")&&(t=$("meta[property='yandex_metric']").attr("content"),ym(t,"reachGoal",e))}function sendMetrics(e){var t;"function"==typeof gtag&&gtag("event",e,{}),"function"==typeof ym&&$("meta[property='yandex_metric']").attr("content")&&(t=$("meta[property='yandex_metric']").attr("content"),ym(t,"reachGoal",e))}function sendEcommerceYandexMetrica(e){"purchase"==e.event?dataLayer.push({ecommerce:{currencyCode:e.analystdata.currency,purchase:{actionField:{id:e.analystdata.transaction_id},products:e.analystdata.items}}}):dataLayer.push({ecommerce:{currencyCode:e.analystdata.currency,add:{products:e.analystdata.items}}})}function sendGA(e,t){"function"!=typeof gtag&&"function"!=typeof ym||$.ajax({url:"index.php?route=product/product/analystdata",dataType:"json",type:"POST",data:e,success:function(e){e.items&&("function"==typeof gtag?gtag("event",t,e):sendEcommerceYandexMetrica({event:t,analystdata:e}))}})}function sendGAch(e,t){"function"!=typeof gtag&&"function"!=typeof ym||$.ajax({url:"index.php?route=product/product/analystdataorder",dataType:"json",type:"POST",data:e,success:function(e){setTimeout(function(){"function"==typeof gtag?gtag("event",t,e):sendEcommerceYandexMetrica({event:t,analystdata:e})},100)}})}function adult(){$("#popup-age").length&&($.fancybox.open({src:"#popup-age",type:"inline",opts:{autoFocus:!1,scrolling:"no",clickSlide:!1,buttons:!1,touch:!1,modal:!0,afterClose:function(e,t){$("body").removeClass("fancybox-age")}}}),$("#popup-age").on("click",".js-adult",function(e){var t=new Date((new Date).getTime()+31536e6);document.cookie="899_is_adult=1; path=/; SameSite=Lax; expires="+t.toUTCString()}))}$("html").addClass("is-loaded"),$(document).on("click",".js-btn-preview",function(e){e.preventDefault();var t=$(this).attr("data-for");$("#popupprod").removeClass("popup popup--option-required").addClass("popup--prod"),$.ajax({url:"index.php?route=product/product/show_in_popup&prod_id="+t+"&popup=1",type:"get",dataType:"html",success:function(e){e=$("<div />").html(e).find(".sku__view");$("#popupprod").html(e),activateElements(),initSwiperSku(),initFancybox(),activateUploadBtn(),$("#popupprod").find("input[name^='option']").is(".date, .datetime, .time")&&activateDatepicker(),$("#popupprod").find("#button-cart").attr("onclick","cart.popupadd("+t+");"),$.fancybox.open($("#popupprod"),fancyboxOptions),$("#popupprod").parent().addClass("fancybox-popupprod")}})}),$(document).on("click",".js-button-fast-cart",function(e){var t=$(this).attr("data-for"),a=$(this).closest(".sku__action").find(".ui-number__input input").val(),s=$(this).attr("data-typefrom");$("#cat_qty").val(a),$("#cat_prod_id").val(t),$("#buy-click-type").val(s)}),$(document).on("click",".quickbuy-send",function(e){var t;t="category-popup"==$("#buy-click-type").val()?($(".fast-redirect").val(1),$("#popup-buy-click input,#popup-buy-click textarea,#popupprod input[type='text'], #popupprod input[type='hidden'], #popupprod input[type='radio']:checked, #popupprod input[type='checkbox']:checked, #popupprod select, #popupprod textarea")):$("#popup-buy-click input,#popup-buy-click textarea,  #product input[type='radio']:checked, #product input[type='checkbox']:checked, #product input[type='text']:not([name='quantity']), #product select, #product textarea"),cart.add2cartFast(t)}),$(document).on("click",".js-fancy-popup-cart",function(e){sendMetrics("prostore_buyclick")}),$(document).on("click",".js-share",function(e){e.preventDefault(),$("#share .popup__form").is(":empty")&&$("#share .popup__form").html('<script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-62407af98b4dfdbe"><\/script><div class="addthis_inline_share_toolbox"></div><img class="loader" src="catalog/view/theme/prostore/images/loader.svg" alt="">'),$.fancybox.open($("#share"),fancyboxOptions)});var cart={add:function(t,e){var a="product_id="+t+"&quantity="+(void 0!==e?e:1);$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:a,dataType:"json",beforeSend:function(){},complete:function(){},success:function(e){$(".alerts-wrapper, .text-danger").remove(),e.redirect&&optionRequired(t),e.success&&(setTimeout(function(){$(".js-cart-total").html('<span id="cart-total">'+e.total+"</span>")},100),cartExrtaElem(e.total),$(".js-cart-call").length&&window.matchMedia("(min-width: 1200px)").matches?$(".js-cart-call").trigger("click"):($("main").prepend($('<div class="alerts-wrapper"><div class="alert alert--green"><button class="alert__close"><svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text"> '+e.success+" </p></div></div>")),alertAutoClose()),toCartButtonCommon(t),sendYM("prostore_addtocart_catalog"),sendGA(a,"prostore_addtocart_catalog"),$("#cart .header__cart-load").load("index.php?route=common/cart/info .header__cart-offcanvas",function(){hasScrollBar(),$("[data-fancybox]").fancybox(fancyboxOptions)}))},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},popupadd:function(a){var e=$("#popupprod input[type='text'], #popupprod input[type='hidden'], #popupprod input[type='number'], #popupprod input[type='radio']:checked, #popupprod input[type='checkbox']:checked, #popupprod select, #popupprod textarea");$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:e,dataType:"json",beforeSend:function(){$(".js-btn-add-cart").attr("disabled","disabled")},complete:function(){$(".js-btn-add-cart").removeAttr("disabled")},success:function(e){if($(".alert,#popupprod .ui-error").remove(),$('#popupprod [id^="input-option"],#popupprod .ui-field').removeClass("is-error"),e.error){if(e.error.option)for(i in e.error.option){var t=$("#popupprod #input-option"+i.replace("_","-"));(t.parent().hasClass("ui-select")?t.parent().after('<span class="error ui-error">'+e.error.option[i]+"</span>").parent():t.hasClass("ui-input")||t.hasClass("ui-textarea")?t.after('<span class="error ui-error">'+e.error.option[i]+"</span>").parent():t.after('<span class="error ui-error">'+e.error.option[i]+"</span>")).addClass("is-error")}e.error.recurring&&$("#popupprod select[name='recurring_id']").parent().after('<span class="error ui-error">'+e.error.recurring+"</span>").parent().addClass("is-error")}e.success&&($.fancybox.close(),cartExrtaElem(e.total),$(".js-cart-call").length&&window.matchMedia("(min-width: 1200px)").matches?$(".js-cart-call").trigger("click"):($("main").prepend($('<div class="alerts-wrapper"><div class="alert alert--green"><button class="alert__close"><svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text"> '+e.success+" </p></div></div>")),alertAutoClose()),$(".js-cart-total").html('<span id="cart-total">'+e.total+"</span>"),toCartButtonCommon(a),$("#cart .header__cart-load").load("index.php?route=common/cart/info .header__cart-offcanvas",function(){hasScrollBar(),$("[data-fancybox]").fancybox(fancyboxOptions)}))},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},add2cartFast:function(e){$.ajax({url:"index.php?route=extension/module/prostore/prostorecart/fastadd2cart",type:"post",data:e,dataType:"json",beforeSend:function(){$(".quickbuy-send").attr("disabled","disabled"),$(".alert, .ui-error, .icon-error").remove(),$(".ui-group, .ui-field").removeClass("is-error")},complete:function(){$(".quickbuy-send").removeAttr("disabled")},success:function(e){if($(".alert, .ui-error").remove(),$('[id^="input-option"],.ui-field,.ui-select').removeClass("is-error"),e.error){if(e.redirect&&(setTimeout(function(){$.fancybox.close()},2e3),setTimeout(function(){location=e.redirect},3e3)),e.error.option){for(i in e.error.option){var t=$("#input-option"+i.replace("_","-"));(t.parent().hasClass("ui-select")?t.parent().after('<span class="error ui-error">'+e.error.option[i]+"</span>").parent():t.hasClass("ui-input")||t.hasClass("ui-textarea")?t.after('<span class="error ui-error">'+e.error.option[i]+"</span>").parent():t.after('<span class="error ui-error">'+e.error.option[i]+"</span>")).addClass("is-error")}void 0===e.error.popup&&($("#popup-buy-click .ui-btn").before('<div class="alert alert--red alert--opacity"><button class="alert__close"> <svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text">Заполните обязательные поля</p></div>'),setTimeout(function(){$(".alert-danger").remove()},2e3),setTimeout(function(){$.fancybox.close()},1500))}e.error.error_stock&&($("#popup-buy-click .ui-btn").before('<div class="alert alert--red alert--opacity"><button class="alert__close"> <svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text">'+e.error.error_stock+"</p></div>"),setTimeout(function(){$(".alert-success").remove()},2e3),setTimeout(function(){$.fancybox.close()},1500)),e.error.error_min_warning&&$("#popup-buy-click .ui-btn").before('<div class="alert alert--red alert--opacity"><button class="alert__close"> <svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text">'+e.error.error_min_warning+"</p></div>"),e.error.recurring&&($("select[name='recurring_id']").parent().after('<span class="error ui-error">'+e.error.recurring+"</span>").parent().addClass("is-error"),$.fancybox.close()),e.error.popup&&(e.error.popup.name&&$(".popup--buy-click input[name='name']").after('<span class="error ui-error">'+e.error.popup.name+"</span>").addClass("is-error"),e.error.popup.phone&&$(".popup--buy-click input[name='phone']").after('<span class="error ui-error">'+e.error.popup.phone+"</span>").addClass("is-error"),e.error.popup.email&&$(".popup--buy-click input[name='email']").after('<span class="error ui-error">'+e.error.popup.email+"</span>").addClass("is-error"),e.error.popup.comment&&$(".popup--buy-click textarea[name='comment']").after('<span class="error ui-error">'+e.error.popup.comment+"</span>").addClass("is-error"),e.error.popup.captcha&&$(".popup--buy-click input[name='captcha']").after('<span class="error ui-error">'+e.warning.captcha+"</span>").addClass("is-error"))}e.success&&(sendMetrics("prostore_buyclick_success"),$.fancybox.close(),$("popup--buy-click input,popup--buy-click textarea").val(""),location=e.redirect)},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},update:function(e,t){$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:e+"="+(void 0!==t?t:1),dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(t){if(setTimeout(function(){$(".js-cart-total").html('<span id="cart-total">'+t.total+"</span>")},100),cartExrtaElem(t.total),null!=t.deleted_items&&t.deleted_items.length){var a=JSON.parse(e.replace("prod_id_quantity",""));for(let e=0;e<a.length;e++)toCartButtonCommonReset(t.deleted_items[e]);toCartButtonReset()}"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")||$(".cart__content").length?location="index.php?route=checkout/cart":$("#cart .header__cart-load").load("index.php?route=common/cart/info .header__cart-offcanvas",function(){hasScrollBar(),$("[data-fancybox]").fancybox(fancyboxOptions)})},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},remove:function(e){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+e,dataType:"json",beforeSend:function(){},complete:function(){},success:function(e){setTimeout(function(){$(".js-cart-total").html('<span id="cart-total">'+e.total+"</span>")},100),cartExrtaElem(e.total),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")||$(".cart__content").length?location="index.php?route=checkout/cart":$("#cart .header__cart-load").load("index.php?route=common/cart/info .header__cart-offcanvas",function(){hasScrollBar(),$("[data-fancybox]").fancybox(fancyboxOptions)})},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},clear:function(){$.ajax({url:"index.php?route=checkout/cart/clear",type:"post",dataType:"json",beforeSend:function(){},complete:function(){},success:function(e){setTimeout(function(){$(".js-cart-total").html('<span id="cart-total">'+e.total+"</span>")},100),cartExrtaElem(0),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")||$(".cart__content").length?location="index.php?route=checkout/cart":$("#cart .header__cart-load").load("index.php?route=common/cart/info .header__cart-offcanvas",function(){hasScrollBar(),$("[data-fancybox]").fancybox(fancyboxOptions)})},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})}},voucher={add:function(){},remove:function(e){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+e,dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(e){setTimeout(function(){0<e.total?$("#cart-total").html('<mark class="cart__counter" id="cart-total"> '+e.total+"</mark>"):$("#cart-total").html("")},100),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")||$(".cart__content").length?location="index.php?route=checkout/cart":$("#cart .header__cart-load").load("index.php?route=common/cart/info .header__cart-offcanvas",function(){hasScrollBar(),$("[data-fancybox]").fancybox(fancyboxOptions)})},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})}},wishlist={add:function(a){$.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+a,dataType:"json",complete:function(){getCompareWish()},success:function(e){$(".alerts-wrapper").remove(),e.redirect&&(location=e.redirect);var t=$(".products__item, #product").find("button[data-for='"+a+"']").filter("[data-action='wishlist']");1!=e.error&&(t.addClass("is-active"),t=t.find("svg"),$('#product .sku__addto .sku__addto-btn[data-action="wishlist"] .sku__addto-btn-text').html(e.button_text),t.attr("class","icon-favorites-active").find("use").attr("xlink:href","catalog/view/theme/prostore/sprites/sprite.svg#icon-favorites-active")),e.success&&($("main").prepend($('<div class="alerts-wrapper"><div class="alert alert--green"><button class="alert__close"><svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text"> '+e.success+" </p></div></div>")),alertAutoClose())},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},remove:function(a){$.ajax({url:"index.php?route=account/wishlist/remove",type:"post",data:"product_id="+a,dataType:"json",complete:function(){getCompareWish()},success:function(e){$(".alerts-wrapper").remove();var t=$(".products__item, #product").find("button[data-for='"+a+"']").filter("[data-action='wishlist']");1!=e.error&&(t.removeClass("is-active"),t=t.find("svg"),$('#product .sku__addto .sku__addto-btn[data-action="wishlist"] .sku__addto-btn-text').html(e.button_text),t.attr("class","icon-favorites").find("use").attr("xlink:href","catalog/view/theme/prostore/sprites/sprite.svg#icon-favorites")),e.success&&($("main").prepend($('<div class="alerts-wrapper"><div class="alert alert--green"><button class="alert__close"><svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text"> '+e.success+" </p></div></div>")),alertAutoClose())},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})}},compare={add:function(a){$.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+a,dataType:"json",complete:function(){getCompareWish()},success:function(e){$(".alerts-wrapper").remove();var t=$(".products__item, #product").find("button[data-for='"+a+"']").filter("[data-action='compare']");1!=e.error&&(t.addClass("is-active"),t.find("svg").attr("class","icon-compare-active").find("use").attr("xlink:href","catalog/view/theme/prostore/sprites/sprite.svg#icon-compare-active")),e.success&&($("main").prepend($('<div class="alerts-wrapper"><div class="alert alert--green"><button class="alert__close"><svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text"> '+e.success+" </p></div></div>")),alertAutoClose(),$('#product .sku__addto .sku__addto-btn[data-action="compare"] .sku__addto-btn-text').html(e.button_text))},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},remove:function(a){$.ajax({url:"index.php?route=product/compare/remove",type:"post",data:"product_id="+a,dataType:"json",complete:function(){getCompareWish()},success:function(e){$(".alerts-wrapper").remove();var t=$(".products__item, #product").find("button[data-for='"+a+"']").filter("[data-action='compare']");1!=e.error&&(t.removeClass("is-active"),t.find("svg").attr("class","icon-compare").find("use").attr("xlink:href","catalog/view/theme/prostore/sprites/sprite.svg#icon-compare")),e.success&&($("main").prepend($('<div class="alerts-wrapper"><div class="alert alert--green"><button class="alert__close"><svg class="icon-close-alerts"><use xlink:href="catalog/view/theme/prostore/sprites/sprite.svg#icon-close-alerts"></use></svg></button><p class="alert__text"> '+e.success+" </p></div></div>")),alertAutoClose(),$('#product .sku__addto .sku__addto-btn[data-action="compare"] .sku__addto-btn-text').html(e.button_text))},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})}},comment={add:function(e){$.ajax({url:"index.php?route=extension/module/prostore_blog/write&blog_id="+e,type:"post",dataType:"json",data:$("#form-comment").serialize(),beforeSend:function(){$("#form-comment button").button("loading")},complete:function(){$("#form-comment button").button("reset"),setTimeout(function(){$(".alert").remove()},5e3)},success:function(e){$(".alert--red").remove(),e.error&&$("#form-comment").before('<div class="alert alert--red alert--opacity"><p class="alert__text">'+e.error+"</p></div>"),e.success&&($("#form-comment").before('<div class="alert alert--green alert--opacity"><p class="alert__text">'+e.success+"</p></div>"),$("input[name='name']").val(""),$("textarea[name='text']").val(""),$("input[name='email']:checked").prop("checked",!1)),e.redirect&&document.location.reload()}})}};$(function(){cookieagry(),scrollToTop(),currlanguage(),callBack(),initPriorityNav(),headerMobileSticky(),headerTriggers("js-nav-trigger","is-nav-open"),headerTriggers("js-call-trigger","is-call-open"),headerTriggers("js-currency-trigger","is-currency-open"),headerTriggers("js-language-trigger","is-language-open"),headerTriggers("js-catalog-trigger","is-catalog-open"),headerTriggers("js-search-trigger","is-search-open"),initSwiperSku(),stickySku(),stickyPersonal(),toggle(),initReadmore(),compactSku(),initFancybox(),rangeSlider(),doFilter(),countdown(),zoomEzPlus(),hasScrollBar(),SearchInput(),initSwiper(),addSubscribe(),GalleryMouseover(),Categories(),adult(),cssVars(),bootstrapTooltip(),categoryViewOC()})